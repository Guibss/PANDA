ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.MX_GPIO_Init,"ax",%progbits
  16              		.align	1
  17              		.arch armv6s-m
  18              		.syntax unified
  19              		.code	16
  20              		.thumb_func
  21              		.fpu softvfp
  23              	MX_GPIO_Init:
  24              	.LFB50:
  25              		.file 1 "Src/main.c"
   1:Src/main.c    **** /* USER CODE BEGIN Header */
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   * @attention
   8:Src/main.c    ****   *
   9:Src/main.c    ****   * <h2><center>&copy; Copyright (c) 2020 STMicroelectronics.
  10:Src/main.c    ****   * All rights reserved.</center></h2>
  11:Src/main.c    ****   *
  12:Src/main.c    ****   * This software component is licensed by ST under BSD 3-Clause license,
  13:Src/main.c    ****   * the "License"; You may not use this file except in compliance with the
  14:Src/main.c    ****   * License. You may obtain a copy of the License at:
  15:Src/main.c    ****   *                        opensource.org/licenses/BSD-3-Clause
  16:Src/main.c    ****   *
  17:Src/main.c    ****   ******************************************************************************
  18:Src/main.c    ****   */
  19:Src/main.c    **** /* USER CODE END Header */
  20:Src/main.c    **** 
  21:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  22:Src/main.c    **** #include "main.h"
  23:Src/main.c    **** #include "usb_device.h"
  24:Src/main.c    **** 
  25:Src/main.c    **** /* Private includes ----------------------------------------------------------*/
  26:Src/main.c    **** /* USER CODE BEGIN Includes */
  27:Src/main.c    **** #include "usbd_cdc_if.h"
  28:Src/main.c    **** #include <string.h>
  29:Src/main.c    **** /* USER CODE END Includes */
  30:Src/main.c    **** 
  31:Src/main.c    **** /* Private typedef -----------------------------------------------------------*/
  32:Src/main.c    **** /* USER CODE BEGIN PTD */
  33:Src/main.c    **** 
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 2


  34:Src/main.c    **** /* USER CODE END PTD */
  35:Src/main.c    **** 
  36:Src/main.c    **** /* Private define ------------------------------------------------------------*/
  37:Src/main.c    **** /* USER CODE BEGIN PD */
  38:Src/main.c    **** /* USER CODE END PD */
  39:Src/main.c    **** 
  40:Src/main.c    **** /* Private macro -------------------------------------------------------------*/
  41:Src/main.c    **** /* USER CODE BEGIN PM */
  42:Src/main.c    **** 
  43:Src/main.c    **** /* USER CODE END PM */
  44:Src/main.c    **** 
  45:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  46:Src/main.c    **** ADC_HandleTypeDef hadc;
  47:Src/main.c    **** 
  48:Src/main.c    **** DAC_HandleTypeDef hdac;
  49:Src/main.c    **** 
  50:Src/main.c    **** I2C_HandleTypeDef hi2c2;
  51:Src/main.c    **** 
  52:Src/main.c    **** SPI_HandleTypeDef hspi2;
  53:Src/main.c    **** 
  54:Src/main.c    **** TSC_HandleTypeDef htsc;
  55:Src/main.c    **** 
  56:Src/main.c    **** /* USER CODE BEGIN PV */
  57:Src/main.c    **** 
  58:Src/main.c    **** /* USER CODE END PV */
  59:Src/main.c    **** 
  60:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
  61:Src/main.c    **** void SystemClock_Config(void);
  62:Src/main.c    **** static void MX_GPIO_Init(void);
  63:Src/main.c    **** static void MX_DAC_Init(void);
  64:Src/main.c    **** static void MX_I2C2_Init(void);
  65:Src/main.c    **** static void MX_SPI2_Init(void);
  66:Src/main.c    **** static void MX_TSC_Init(void);
  67:Src/main.c    **** static void MX_ADC_Init(void);
  68:Src/main.c    **** /* USER CODE BEGIN PFP */
  69:Src/main.c    **** 
  70:Src/main.c    **** /* USER CODE END PFP */
  71:Src/main.c    **** 
  72:Src/main.c    **** /* Private user code ---------------------------------------------------------*/
  73:Src/main.c    **** /* USER CODE BEGIN 0 */
  74:Src/main.c    **** uint32_t adc_value = 0;
  75:Src/main.c    **** uint32_t DAC_Value = 1000;
  76:Src/main.c    **** uint16_t current_adc_value = 0;
  77:Src/main.c    **** /* USER CODE END 0 */
  78:Src/main.c    **** 
  79:Src/main.c    **** /**
  80:Src/main.c    ****   * @brief  The application entry point.
  81:Src/main.c    ****   * @retval int
  82:Src/main.c    ****   */
  83:Src/main.c    **** int main(void)
  84:Src/main.c    **** {
  85:Src/main.c    ****   /* USER CODE BEGIN 1 */
  86:Src/main.c    **** 
  87:Src/main.c    ****   /* USER CODE END 1 */
  88:Src/main.c    ****   
  89:Src/main.c    **** 
  90:Src/main.c    ****   /* MCU Configuration--------------------------------------------------------*/
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 3


  91:Src/main.c    **** 
  92:Src/main.c    ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  93:Src/main.c    ****   HAL_Init();
  94:Src/main.c    **** 
  95:Src/main.c    ****   /* USER CODE BEGIN Init */
  96:Src/main.c    **** 
  97:Src/main.c    ****   /* USER CODE END Init */
  98:Src/main.c    **** 
  99:Src/main.c    ****   /* Configure the system clock */
 100:Src/main.c    ****   SystemClock_Config();
 101:Src/main.c    **** 
 102:Src/main.c    ****   /* USER CODE BEGIN SysInit */
 103:Src/main.c    **** 
 104:Src/main.c    ****   /* USER CODE END SysInit */
 105:Src/main.c    **** 
 106:Src/main.c    ****   /* Initialize all configured peripherals */
 107:Src/main.c    ****   MX_GPIO_Init();
 108:Src/main.c    ****   MX_DAC_Init();
 109:Src/main.c    ****   MX_I2C2_Init();
 110:Src/main.c    ****   MX_SPI2_Init();
 111:Src/main.c    ****   MX_TSC_Init();
 112:Src/main.c    ****   MX_ADC_Init();
 113:Src/main.c    ****   MX_USB_DEVICE_Init();
 114:Src/main.c    ****   /* USER CODE BEGIN 2 */
 115:Src/main.c    ****   HAL_DAC_Start(&hdac, DAC_CHANNEL_1);  
 116:Src/main.c    ****   HAL_ADC_Start_IT (&hadc);
 117:Src/main.c    ****   
 118:Src/main.c    ****   uint8_t adc_index = 0;
 119:Src/main.c    ****   uint32_t adc_sum = 0;
 120:Src/main.c    ****   uint32_t adc_hist[100] = {0};
 121:Src/main.c    **** 
 122:Src/main.c    ****   uint8_t usb_buf[1] = {0};
 123:Src/main.c    ****   uint16_t txcounter = 0;
 124:Src/main.c    ****   
 125:Src/main.c    ****   /* USER CODE END 2 */
 126:Src/main.c    **** 
 127:Src/main.c    ****   /* Infinite loop */
 128:Src/main.c    ****   /* USER CODE BEGIN WHILE */
 129:Src/main.c    ****   while (1)
 130:Src/main.c    ****   {
 131:Src/main.c    ****     /* USER CODE END WHILE */
 132:Src/main.c    **** 
 133:Src/main.c    ****     /* USER CODE BEGIN 3 */
 134:Src/main.c    ****     
 135:Src/main.c    ****     
 136:Src/main.c    ****     
 137:Src/main.c    ****     adc_hist[adc_index]=current_adc_value;
 138:Src/main.c    ****     adc_index++;
 139:Src/main.c    ****     if (adc_index == 100){
 140:Src/main.c    ****       adc_index =0;
 141:Src/main.c    ****     }
 142:Src/main.c    ****     adc_sum = 0;
 143:Src/main.c    ****     for (int i = 0; i<100; i++){
 144:Src/main.c    ****       adc_sum += adc_hist[i];
 145:Src/main.c    ****     }
 146:Src/main.c    ****     adc_value = adc_sum * 30 / 4096 / 100;
 147:Src/main.c    ****     usb_buf[0] = adc_value;
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 4


 148:Src/main.c    **** 
 149:Src/main.c    ****     if (usb_ready()){
 150:Src/main.c    ****       DAC_Value = usb_getValue() * 100;
 151:Src/main.c    ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1,DAC_ALIGN_12B_R, DAC_Value*4096/3000);
 152:Src/main.c    ****     }
 153:Src/main.c    ****     txcounter++;
 154:Src/main.c    ****     if (txcounter==0){
 155:Src/main.c    ****       CDC_Transmit_FS(usb_buf,  1);
 156:Src/main.c    ****       HAL_Delay(100);
 157:Src/main.c    ****     }
 158:Src/main.c    **** 
 159:Src/main.c    ****     if (HAL_GPIO_ReadPin(B1_GPIO_Port, B1_Pin)){
 160:Src/main.c    ****       HAL_GPIO_TogglePin(LD6_GPIO_Port,LD6_Pin);
 161:Src/main.c    ****       HAL_Delay(200);
 162:Src/main.c    ****     }
 163:Src/main.c    **** 
 164:Src/main.c    ****     
 165:Src/main.c    ****     
 166:Src/main.c    ****   }
 167:Src/main.c    ****   /* USER CODE END 3 */
 168:Src/main.c    **** }
 169:Src/main.c    **** 
 170:Src/main.c    **** /**
 171:Src/main.c    ****   * @brief System Clock Configuration
 172:Src/main.c    ****   * @retval None
 173:Src/main.c    ****   */
 174:Src/main.c    **** void SystemClock_Config(void)
 175:Src/main.c    **** {
 176:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 177:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 178:Src/main.c    ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 179:Src/main.c    **** 
 180:Src/main.c    ****   /** Initializes the CPU, AHB and APB busses clocks 
 181:Src/main.c    ****   */
 182:Src/main.c    ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI|RCC_OSCILLATORTYPE_HSI14
 183:Src/main.c    ****                               |RCC_OSCILLATORTYPE_HSI48;
 184:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 185:Src/main.c    ****   RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
 186:Src/main.c    ****   RCC_OscInitStruct.HSI14State = RCC_HSI14_ON;
 187:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 188:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
 189:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 190:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 191:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL6;
 192:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 193:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 194:Src/main.c    ****   {
 195:Src/main.c    ****     Error_Handler();
 196:Src/main.c    ****   }
 197:Src/main.c    ****   /** Initializes the CPU, AHB and APB busses clocks 
 198:Src/main.c    ****   */
 199:Src/main.c    ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 200:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1;
 201:Src/main.c    ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 202:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 203:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 204:Src/main.c    **** 
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 5


 205:Src/main.c    ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_1) != HAL_OK)
 206:Src/main.c    ****   {
 207:Src/main.c    ****     Error_Handler();
 208:Src/main.c    ****   }
 209:Src/main.c    ****   PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_USB;
 210:Src/main.c    ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_HSI48;
 211:Src/main.c    **** 
 212:Src/main.c    ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 213:Src/main.c    ****   {
 214:Src/main.c    ****     Error_Handler();
 215:Src/main.c    ****   }
 216:Src/main.c    **** }
 217:Src/main.c    **** 
 218:Src/main.c    **** /**
 219:Src/main.c    ****   * @brief ADC Initialization Function
 220:Src/main.c    ****   * @param None
 221:Src/main.c    ****   * @retval None
 222:Src/main.c    ****   */
 223:Src/main.c    **** static void MX_ADC_Init(void)
 224:Src/main.c    **** {
 225:Src/main.c    **** 
 226:Src/main.c    ****   /* USER CODE BEGIN ADC_Init 0 */
 227:Src/main.c    **** 
 228:Src/main.c    ****   /* USER CODE END ADC_Init 0 */
 229:Src/main.c    **** 
 230:Src/main.c    ****   ADC_ChannelConfTypeDef sConfig = {0};
 231:Src/main.c    **** 
 232:Src/main.c    ****   /* USER CODE BEGIN ADC_Init 1 */
 233:Src/main.c    **** 
 234:Src/main.c    ****   /* USER CODE END ADC_Init 1 */
 235:Src/main.c    ****   /** Configure the global features of the ADC (Clock, Resolution, Data Alignment and number of con
 236:Src/main.c    ****   */
 237:Src/main.c    ****   hadc.Instance = ADC1;
 238:Src/main.c    ****   hadc.Init.ClockPrescaler = ADC_CLOCK_ASYNC_DIV1;
 239:Src/main.c    ****   hadc.Init.Resolution = ADC_RESOLUTION_12B;
 240:Src/main.c    ****   hadc.Init.DataAlign = ADC_DATAALIGN_RIGHT;
 241:Src/main.c    ****   hadc.Init.ScanConvMode = ADC_SCAN_DIRECTION_FORWARD;
 242:Src/main.c    ****   hadc.Init.EOCSelection = ADC_EOC_SINGLE_CONV;
 243:Src/main.c    ****   hadc.Init.LowPowerAutoWait = DISABLE;
 244:Src/main.c    ****   hadc.Init.LowPowerAutoPowerOff = DISABLE;
 245:Src/main.c    ****   hadc.Init.ContinuousConvMode = ENABLE;
 246:Src/main.c    ****   hadc.Init.DiscontinuousConvMode = DISABLE;
 247:Src/main.c    ****   hadc.Init.ExternalTrigConv = ADC_SOFTWARE_START;
 248:Src/main.c    ****   hadc.Init.ExternalTrigConvEdge = ADC_EXTERNALTRIGCONVEDGE_NONE;
 249:Src/main.c    ****   hadc.Init.DMAContinuousRequests = DISABLE;
 250:Src/main.c    ****   hadc.Init.Overrun = ADC_OVR_DATA_PRESERVED;
 251:Src/main.c    ****   if (HAL_ADC_Init(&hadc) != HAL_OK)
 252:Src/main.c    ****   {
 253:Src/main.c    ****     Error_Handler();
 254:Src/main.c    ****   }
 255:Src/main.c    ****   /** Configure for the selected ADC regular channel to be converted. 
 256:Src/main.c    ****   */
 257:Src/main.c    ****   sConfig.Channel = ADC_CHANNEL_1;
 258:Src/main.c    ****   sConfig.Rank = ADC_RANK_CHANNEL_NUMBER;
 259:Src/main.c    ****   sConfig.SamplingTime = ADC_SAMPLETIME_28CYCLES_5;
 260:Src/main.c    ****   if (HAL_ADC_ConfigChannel(&hadc, &sConfig) != HAL_OK)
 261:Src/main.c    ****   {
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 6


 262:Src/main.c    ****     Error_Handler();
 263:Src/main.c    ****   }
 264:Src/main.c    ****   /* USER CODE BEGIN ADC_Init 2 */
 265:Src/main.c    **** 
 266:Src/main.c    ****   /* USER CODE END ADC_Init 2 */
 267:Src/main.c    **** 
 268:Src/main.c    **** }
 269:Src/main.c    **** 
 270:Src/main.c    **** /**
 271:Src/main.c    ****   * @brief DAC Initialization Function
 272:Src/main.c    ****   * @param None
 273:Src/main.c    ****   * @retval None
 274:Src/main.c    ****   */
 275:Src/main.c    **** static void MX_DAC_Init(void)
 276:Src/main.c    **** {
 277:Src/main.c    **** 
 278:Src/main.c    ****   /* USER CODE BEGIN DAC_Init 0 */
 279:Src/main.c    **** 
 280:Src/main.c    ****   /* USER CODE END DAC_Init 0 */
 281:Src/main.c    **** 
 282:Src/main.c    ****   DAC_ChannelConfTypeDef sConfig = {0};
 283:Src/main.c    **** 
 284:Src/main.c    ****   /* USER CODE BEGIN DAC_Init 1 */
 285:Src/main.c    **** 
 286:Src/main.c    ****   /* USER CODE END DAC_Init 1 */
 287:Src/main.c    ****   /** DAC Initialization 
 288:Src/main.c    ****   */
 289:Src/main.c    ****   hdac.Instance = DAC;
 290:Src/main.c    ****   if (HAL_DAC_Init(&hdac) != HAL_OK)
 291:Src/main.c    ****   {
 292:Src/main.c    ****     Error_Handler();
 293:Src/main.c    ****   }
 294:Src/main.c    ****   /** DAC channel OUT1 config 
 295:Src/main.c    ****   */
 296:Src/main.c    ****   sConfig.DAC_Trigger = DAC_TRIGGER_NONE;
 297:Src/main.c    ****   sConfig.DAC_OutputBuffer = DAC_OUTPUTBUFFER_ENABLE;
 298:Src/main.c    ****   if (HAL_DAC_ConfigChannel(&hdac, &sConfig, DAC_CHANNEL_1) != HAL_OK)
 299:Src/main.c    ****   {
 300:Src/main.c    ****     Error_Handler();
 301:Src/main.c    ****   }
 302:Src/main.c    ****   /* USER CODE BEGIN DAC_Init 2 */
 303:Src/main.c    **** 
 304:Src/main.c    ****   /* USER CODE END DAC_Init 2 */
 305:Src/main.c    **** 
 306:Src/main.c    **** }
 307:Src/main.c    **** 
 308:Src/main.c    **** /**
 309:Src/main.c    ****   * @brief I2C2 Initialization Function
 310:Src/main.c    ****   * @param None
 311:Src/main.c    ****   * @retval None
 312:Src/main.c    ****   */
 313:Src/main.c    **** static void MX_I2C2_Init(void)
 314:Src/main.c    **** {
 315:Src/main.c    **** 
 316:Src/main.c    ****   /* USER CODE BEGIN I2C2_Init 0 */
 317:Src/main.c    **** 
 318:Src/main.c    ****   /* USER CODE END I2C2_Init 0 */
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 7


 319:Src/main.c    **** 
 320:Src/main.c    ****   /* USER CODE BEGIN I2C2_Init 1 */
 321:Src/main.c    **** 
 322:Src/main.c    ****   /* USER CODE END I2C2_Init 1 */
 323:Src/main.c    ****   hi2c2.Instance = I2C2;
 324:Src/main.c    ****   hi2c2.Init.Timing = 0x20303E5D;
 325:Src/main.c    ****   hi2c2.Init.OwnAddress1 = 0;
 326:Src/main.c    ****   hi2c2.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 327:Src/main.c    ****   hi2c2.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 328:Src/main.c    ****   hi2c2.Init.OwnAddress2 = 0;
 329:Src/main.c    ****   hi2c2.Init.OwnAddress2Masks = I2C_OA2_NOMASK;
 330:Src/main.c    ****   hi2c2.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 331:Src/main.c    ****   hi2c2.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 332:Src/main.c    ****   if (HAL_I2C_Init(&hi2c2) != HAL_OK)
 333:Src/main.c    ****   {
 334:Src/main.c    ****     Error_Handler();
 335:Src/main.c    ****   }
 336:Src/main.c    ****   /** Configure Analogue filter 
 337:Src/main.c    ****   */
 338:Src/main.c    ****   if (HAL_I2CEx_ConfigAnalogFilter(&hi2c2, I2C_ANALOGFILTER_ENABLE) != HAL_OK)
 339:Src/main.c    ****   {
 340:Src/main.c    ****     Error_Handler();
 341:Src/main.c    ****   }
 342:Src/main.c    ****   /** Configure Digital filter 
 343:Src/main.c    ****   */
 344:Src/main.c    ****   if (HAL_I2CEx_ConfigDigitalFilter(&hi2c2, 0) != HAL_OK)
 345:Src/main.c    ****   {
 346:Src/main.c    ****     Error_Handler();
 347:Src/main.c    ****   }
 348:Src/main.c    ****   /* USER CODE BEGIN I2C2_Init 2 */
 349:Src/main.c    **** 
 350:Src/main.c    ****   /* USER CODE END I2C2_Init 2 */
 351:Src/main.c    **** 
 352:Src/main.c    **** }
 353:Src/main.c    **** 
 354:Src/main.c    **** /**
 355:Src/main.c    ****   * @brief SPI2 Initialization Function
 356:Src/main.c    ****   * @param None
 357:Src/main.c    ****   * @retval None
 358:Src/main.c    ****   */
 359:Src/main.c    **** static void MX_SPI2_Init(void)
 360:Src/main.c    **** {
 361:Src/main.c    **** 
 362:Src/main.c    ****   /* USER CODE BEGIN SPI2_Init 0 */
 363:Src/main.c    **** 
 364:Src/main.c    ****   /* USER CODE END SPI2_Init 0 */
 365:Src/main.c    **** 
 366:Src/main.c    ****   /* USER CODE BEGIN SPI2_Init 1 */
 367:Src/main.c    **** 
 368:Src/main.c    ****   /* USER CODE END SPI2_Init 1 */
 369:Src/main.c    ****   /* SPI2 parameter configuration*/
 370:Src/main.c    ****   hspi2.Instance = SPI2;
 371:Src/main.c    ****   hspi2.Init.Mode = SPI_MODE_MASTER;
 372:Src/main.c    ****   hspi2.Init.Direction = SPI_DIRECTION_2LINES;
 373:Src/main.c    ****   hspi2.Init.DataSize = SPI_DATASIZE_4BIT;
 374:Src/main.c    ****   hspi2.Init.CLKPolarity = SPI_POLARITY_LOW;
 375:Src/main.c    ****   hspi2.Init.CLKPhase = SPI_PHASE_1EDGE;
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 8


 376:Src/main.c    ****   hspi2.Init.NSS = SPI_NSS_SOFT;
 377:Src/main.c    ****   hspi2.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_4;
 378:Src/main.c    ****   hspi2.Init.FirstBit = SPI_FIRSTBIT_MSB;
 379:Src/main.c    ****   hspi2.Init.TIMode = SPI_TIMODE_DISABLE;
 380:Src/main.c    ****   hspi2.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 381:Src/main.c    ****   hspi2.Init.CRCPolynomial = 7;
 382:Src/main.c    ****   hspi2.Init.CRCLength = SPI_CRC_LENGTH_DATASIZE;
 383:Src/main.c    ****   hspi2.Init.NSSPMode = SPI_NSS_PULSE_ENABLE;
 384:Src/main.c    ****   if (HAL_SPI_Init(&hspi2) != HAL_OK)
 385:Src/main.c    ****   {
 386:Src/main.c    ****     Error_Handler();
 387:Src/main.c    ****   }
 388:Src/main.c    ****   /* USER CODE BEGIN SPI2_Init 2 */
 389:Src/main.c    **** 
 390:Src/main.c    ****   /* USER CODE END SPI2_Init 2 */
 391:Src/main.c    **** 
 392:Src/main.c    **** }
 393:Src/main.c    **** 
 394:Src/main.c    **** /**
 395:Src/main.c    ****   * @brief TSC Initialization Function
 396:Src/main.c    ****   * @param None
 397:Src/main.c    ****   * @retval None
 398:Src/main.c    ****   */
 399:Src/main.c    **** static void MX_TSC_Init(void)
 400:Src/main.c    **** {
 401:Src/main.c    **** 
 402:Src/main.c    ****   /* USER CODE BEGIN TSC_Init 0 */
 403:Src/main.c    **** 
 404:Src/main.c    ****   /* USER CODE END TSC_Init 0 */
 405:Src/main.c    **** 
 406:Src/main.c    ****   /* USER CODE BEGIN TSC_Init 1 */
 407:Src/main.c    **** 
 408:Src/main.c    ****   /* USER CODE END TSC_Init 1 */
 409:Src/main.c    ****   /** Configure the TSC peripheral 
 410:Src/main.c    ****   */
 411:Src/main.c    ****   htsc.Instance = TSC;
 412:Src/main.c    ****   htsc.Init.CTPulseHighLength = TSC_CTPH_2CYCLES;
 413:Src/main.c    ****   htsc.Init.CTPulseLowLength = TSC_CTPL_2CYCLES;
 414:Src/main.c    ****   htsc.Init.SpreadSpectrum = DISABLE;
 415:Src/main.c    ****   htsc.Init.SpreadSpectrumDeviation = 1;
 416:Src/main.c    ****   htsc.Init.SpreadSpectrumPrescaler = TSC_SS_PRESC_DIV1;
 417:Src/main.c    ****   htsc.Init.PulseGeneratorPrescaler = TSC_PG_PRESC_DIV4;
 418:Src/main.c    ****   htsc.Init.MaxCountValue = TSC_MCV_8191;
 419:Src/main.c    ****   htsc.Init.IODefaultMode = TSC_IODEF_OUT_PP_LOW;
 420:Src/main.c    ****   htsc.Init.SynchroPinPolarity = TSC_SYNC_POLARITY_FALLING;
 421:Src/main.c    ****   htsc.Init.AcquisitionMode = TSC_ACQ_MODE_NORMAL;
 422:Src/main.c    ****   htsc.Init.MaxCountInterrupt = DISABLE;
 423:Src/main.c    ****   htsc.Init.ChannelIOs = TSC_GROUP1_IO3|TSC_GROUP2_IO3|TSC_GROUP3_IO2;
 424:Src/main.c    ****   htsc.Init.ShieldIOs = 0;
 425:Src/main.c    ****   htsc.Init.SamplingIOs = TSC_GROUP1_IO4|TSC_GROUP2_IO4|TSC_GROUP3_IO3;
 426:Src/main.c    ****   if (HAL_TSC_Init(&htsc) != HAL_OK)
 427:Src/main.c    ****   {
 428:Src/main.c    ****     Error_Handler();
 429:Src/main.c    ****   }
 430:Src/main.c    ****   /* USER CODE BEGIN TSC_Init 2 */
 431:Src/main.c    **** 
 432:Src/main.c    ****   /* USER CODE END TSC_Init 2 */
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 9


 433:Src/main.c    **** 
 434:Src/main.c    **** }
 435:Src/main.c    **** 
 436:Src/main.c    **** /**
 437:Src/main.c    ****   * @brief GPIO Initialization Function
 438:Src/main.c    ****   * @param None
 439:Src/main.c    ****   * @retval None
 440:Src/main.c    ****   */
 441:Src/main.c    **** static void MX_GPIO_Init(void)
 442:Src/main.c    **** {
  26              		.loc 1 442 1 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 32
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 20
  33              		.cfi_offset 4, -20
  34              		.cfi_offset 5, -16
  35              		.cfi_offset 6, -12
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 89B0     		sub	sp, sp, #36
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 56
 443:Src/main.c    ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
  41              		.loc 1 443 3 view .LVU1
  42              		.loc 1 443 20 is_stmt 0 view .LVU2
  43 0004 1422     		movs	r2, #20
  44 0006 0021     		movs	r1, #0
  45 0008 03A8     		add	r0, sp, #12
  46 000a FFF7FEFF 		bl	memset
  47              	.LVL0:
 444:Src/main.c    **** 
 445:Src/main.c    ****   /* GPIO Ports Clock Enable */
 446:Src/main.c    ****   __HAL_RCC_GPIOC_CLK_ENABLE();
  48              		.loc 1 446 3 is_stmt 1 view .LVU3
  49              	.LBB2:
  50              		.loc 1 446 3 view .LVU4
  51              		.loc 1 446 3 view .LVU5
  52 000e 204B     		ldr	r3, .L2
  53 0010 5969     		ldr	r1, [r3, #20]
  54 0012 8020     		movs	r0, #128
  55 0014 0003     		lsls	r0, r0, #12
  56 0016 0143     		orrs	r1, r0
  57 0018 5961     		str	r1, [r3, #20]
  58              		.loc 1 446 3 view .LVU6
  59 001a 5A69     		ldr	r2, [r3, #20]
  60 001c 0240     		ands	r2, r0
  61 001e 0092     		str	r2, [sp]
  62              		.loc 1 446 3 view .LVU7
  63 0020 009A     		ldr	r2, [sp]
  64              	.LBE2:
  65              		.loc 1 446 3 view .LVU8
 447:Src/main.c    ****   __HAL_RCC_GPIOA_CLK_ENABLE();
  66              		.loc 1 447 3 view .LVU9
  67              	.LBB3:
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 10


  68              		.loc 1 447 3 view .LVU10
  69              		.loc 1 447 3 view .LVU11
  70 0022 5969     		ldr	r1, [r3, #20]
  71 0024 8020     		movs	r0, #128
  72 0026 8002     		lsls	r0, r0, #10
  73 0028 0143     		orrs	r1, r0
  74 002a 5961     		str	r1, [r3, #20]
  75              		.loc 1 447 3 view .LVU12
  76 002c 5A69     		ldr	r2, [r3, #20]
  77 002e 0240     		ands	r2, r0
  78 0030 0192     		str	r2, [sp, #4]
  79              		.loc 1 447 3 view .LVU13
  80 0032 019A     		ldr	r2, [sp, #4]
  81              	.LBE3:
  82              		.loc 1 447 3 view .LVU14
 448:Src/main.c    ****   __HAL_RCC_GPIOB_CLK_ENABLE();
  83              		.loc 1 448 3 view .LVU15
  84              	.LBB4:
  85              		.loc 1 448 3 view .LVU16
  86              		.loc 1 448 3 view .LVU17
  87 0034 5A69     		ldr	r2, [r3, #20]
  88 0036 8021     		movs	r1, #128
  89 0038 C902     		lsls	r1, r1, #11
  90 003a 0A43     		orrs	r2, r1
  91 003c 5A61     		str	r2, [r3, #20]
  92              		.loc 1 448 3 view .LVU18
  93 003e 5B69     		ldr	r3, [r3, #20]
  94 0040 0B40     		ands	r3, r1
  95 0042 0293     		str	r3, [sp, #8]
  96              		.loc 1 448 3 view .LVU19
  97 0044 029B     		ldr	r3, [sp, #8]
  98              	.LBE4:
  99              		.loc 1 448 3 view .LVU20
 449:Src/main.c    **** 
 450:Src/main.c    ****   /*Configure GPIO pin Output Level */
 451:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, NCS_MEMS_SPI_Pin|EXT_RESET_Pin|LD3_Pin|LD6_Pin 
 100              		.loc 1 451 3 view .LVU21
 101 0046 134C     		ldr	r4, .L2+4
 102 0048 134D     		ldr	r5, .L2+8
 103 004a 0022     		movs	r2, #0
 104 004c 2100     		movs	r1, r4
 105 004e 2800     		movs	r0, r5
 106 0050 FFF7FEFF 		bl	HAL_GPIO_WritePin
 107              	.LVL1:
 452:Src/main.c    ****                           |LD4_Pin|LD5_Pin, GPIO_PIN_RESET);
 453:Src/main.c    **** 
 454:Src/main.c    ****   /*Configure GPIO pins : NCS_MEMS_SPI_Pin EXT_RESET_Pin LD3_Pin LD6_Pin 
 455:Src/main.c    ****                            LD4_Pin LD5_Pin */
 456:Src/main.c    ****   GPIO_InitStruct.Pin = NCS_MEMS_SPI_Pin|EXT_RESET_Pin|LD3_Pin|LD6_Pin 
 108              		.loc 1 456 3 view .LVU22
 109              		.loc 1 456 23 is_stmt 0 view .LVU23
 110 0054 0394     		str	r4, [sp, #12]
 457:Src/main.c    ****                           |LD4_Pin|LD5_Pin;
 458:Src/main.c    ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 111              		.loc 1 458 3 is_stmt 1 view .LVU24
 112              		.loc 1 458 24 is_stmt 0 view .LVU25
 113 0056 0127     		movs	r7, #1
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 11


 114 0058 0497     		str	r7, [sp, #16]
 459:Src/main.c    ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 115              		.loc 1 459 3 is_stmt 1 view .LVU26
 116              		.loc 1 459 24 is_stmt 0 view .LVU27
 117 005a 0024     		movs	r4, #0
 118 005c 0594     		str	r4, [sp, #20]
 460:Src/main.c    ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 119              		.loc 1 460 3 is_stmt 1 view .LVU28
 120              		.loc 1 460 25 is_stmt 0 view .LVU29
 121 005e 0694     		str	r4, [sp, #24]
 461:Src/main.c    ****   HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 122              		.loc 1 461 3 is_stmt 1 view .LVU30
 123 0060 03A9     		add	r1, sp, #12
 124 0062 2800     		movs	r0, r5
 125 0064 FFF7FEFF 		bl	HAL_GPIO_Init
 126              	.LVL2:
 462:Src/main.c    **** 
 463:Src/main.c    ****   /*Configure GPIO pins : MEMS_INT1_Pin MEMS_INT2_Pin */
 464:Src/main.c    ****   GPIO_InitStruct.Pin = MEMS_INT1_Pin|MEMS_INT2_Pin;
 127              		.loc 1 464 3 view .LVU31
 128              		.loc 1 464 23 is_stmt 0 view .LVU32
 129 0068 0623     		movs	r3, #6
 130 006a 0393     		str	r3, [sp, #12]
 465:Src/main.c    ****   GPIO_InitStruct.Mode = GPIO_MODE_EVT_RISING;
 131              		.loc 1 465 3 is_stmt 1 view .LVU33
 132              		.loc 1 465 24 is_stmt 0 view .LVU34
 133 006c 0B4E     		ldr	r6, .L2+12
 134 006e 0496     		str	r6, [sp, #16]
 466:Src/main.c    ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 135              		.loc 1 466 3 is_stmt 1 view .LVU35
 136              		.loc 1 466 24 is_stmt 0 view .LVU36
 137 0070 0594     		str	r4, [sp, #20]
 467:Src/main.c    ****   HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 138              		.loc 1 467 3 is_stmt 1 view .LVU37
 139 0072 03A9     		add	r1, sp, #12
 140 0074 2800     		movs	r0, r5
 141 0076 FFF7FEFF 		bl	HAL_GPIO_Init
 142              	.LVL3:
 468:Src/main.c    **** 
 469:Src/main.c    ****   /*Configure GPIO pin : B1_Pin */
 470:Src/main.c    ****   GPIO_InitStruct.Pin = B1_Pin;
 143              		.loc 1 470 3 view .LVU38
 144              		.loc 1 470 23 is_stmt 0 view .LVU39
 145 007a 0397     		str	r7, [sp, #12]
 471:Src/main.c    ****   GPIO_InitStruct.Mode = GPIO_MODE_EVT_RISING;
 146              		.loc 1 471 3 is_stmt 1 view .LVU40
 147              		.loc 1 471 24 is_stmt 0 view .LVU41
 148 007c 0496     		str	r6, [sp, #16]
 472:Src/main.c    ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 149              		.loc 1 472 3 is_stmt 1 view .LVU42
 150              		.loc 1 472 24 is_stmt 0 view .LVU43
 151 007e 0594     		str	r4, [sp, #20]
 473:Src/main.c    ****   HAL_GPIO_Init(B1_GPIO_Port, &GPIO_InitStruct);
 152              		.loc 1 473 3 is_stmt 1 view .LVU44
 153 0080 9020     		movs	r0, #144
 154 0082 03A9     		add	r1, sp, #12
 155 0084 C005     		lsls	r0, r0, #23
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 12


 156 0086 FFF7FEFF 		bl	HAL_GPIO_Init
 157              	.LVL4:
 474:Src/main.c    **** 
 475:Src/main.c    **** }
 158              		.loc 1 475 1 is_stmt 0 view .LVU45
 159 008a 09B0     		add	sp, sp, #36
 160              		@ sp needed
 161 008c F0BD     		pop	{r4, r5, r6, r7, pc}
 162              	.L3:
 163 008e C046     		.align	2
 164              	.L2:
 165 0090 00100240 		.word	1073876992
 166 0094 E1030000 		.word	993
 167 0098 00080048 		.word	1207961600
 168 009c 00001210 		.word	269615104
 169              		.cfi_endproc
 170              	.LFE50:
 172              		.section	.text.MX_DAC_Init,"ax",%progbits
 173              		.align	1
 174              		.syntax unified
 175              		.code	16
 176              		.thumb_func
 177              		.fpu softvfp
 179              	MX_DAC_Init:
 180              	.LFB46:
 276:Src/main.c    **** 
 181              		.loc 1 276 1 is_stmt 1 view -0
 182              		.cfi_startproc
 183              		@ args = 0, pretend = 0, frame = 8
 184              		@ frame_needed = 0, uses_anonymous_args = 0
 185 0000 10B5     		push	{r4, lr}
 186              	.LCFI2:
 187              		.cfi_def_cfa_offset 8
 188              		.cfi_offset 4, -8
 189              		.cfi_offset 14, -4
 190 0002 82B0     		sub	sp, sp, #8
 191              	.LCFI3:
 192              		.cfi_def_cfa_offset 16
 282:Src/main.c    **** 
 193              		.loc 1 282 3 view .LVU47
 282:Src/main.c    **** 
 194              		.loc 1 282 26 is_stmt 0 view .LVU48
 195 0004 0822     		movs	r2, #8
 196 0006 0021     		movs	r1, #0
 197 0008 6846     		mov	r0, sp
 198 000a FFF7FEFF 		bl	memset
 199              	.LVL5:
 289:Src/main.c    ****   if (HAL_DAC_Init(&hdac) != HAL_OK)
 200              		.loc 1 289 3 is_stmt 1 view .LVU49
 289:Src/main.c    ****   if (HAL_DAC_Init(&hdac) != HAL_OK)
 201              		.loc 1 289 17 is_stmt 0 view .LVU50
 202 000e 084C     		ldr	r4, .L5
 203 0010 084B     		ldr	r3, .L5+4
 204 0012 2360     		str	r3, [r4]
 290:Src/main.c    ****   {
 205              		.loc 1 290 3 is_stmt 1 view .LVU51
 290:Src/main.c    ****   {
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 13


 206              		.loc 1 290 7 is_stmt 0 view .LVU52
 207 0014 2000     		movs	r0, r4
 208 0016 FFF7FEFF 		bl	HAL_DAC_Init
 209              	.LVL6:
 296:Src/main.c    ****   sConfig.DAC_OutputBuffer = DAC_OUTPUTBUFFER_ENABLE;
 210              		.loc 1 296 3 is_stmt 1 view .LVU53
 296:Src/main.c    ****   sConfig.DAC_OutputBuffer = DAC_OUTPUTBUFFER_ENABLE;
 211              		.loc 1 296 23 is_stmt 0 view .LVU54
 212 001a 0023     		movs	r3, #0
 213 001c 0093     		str	r3, [sp]
 297:Src/main.c    ****   if (HAL_DAC_ConfigChannel(&hdac, &sConfig, DAC_CHANNEL_1) != HAL_OK)
 214              		.loc 1 297 3 is_stmt 1 view .LVU55
 297:Src/main.c    ****   if (HAL_DAC_ConfigChannel(&hdac, &sConfig, DAC_CHANNEL_1) != HAL_OK)
 215              		.loc 1 297 28 is_stmt 0 view .LVU56
 216 001e 0193     		str	r3, [sp, #4]
 298:Src/main.c    ****   {
 217              		.loc 1 298 3 is_stmt 1 view .LVU57
 298:Src/main.c    ****   {
 218              		.loc 1 298 7 is_stmt 0 view .LVU58
 219 0020 0022     		movs	r2, #0
 220 0022 6946     		mov	r1, sp
 221 0024 2000     		movs	r0, r4
 222 0026 FFF7FEFF 		bl	HAL_DAC_ConfigChannel
 223              	.LVL7:
 306:Src/main.c    **** 
 224              		.loc 1 306 1 view .LVU59
 225 002a 02B0     		add	sp, sp, #8
 226              		@ sp needed
 227 002c 10BD     		pop	{r4, pc}
 228              	.L6:
 229 002e C046     		.align	2
 230              	.L5:
 231 0030 00000000 		.word	hdac
 232 0034 00740040 		.word	1073771520
 233              		.cfi_endproc
 234              	.LFE46:
 236              		.section	.text.MX_I2C2_Init,"ax",%progbits
 237              		.align	1
 238              		.syntax unified
 239              		.code	16
 240              		.thumb_func
 241              		.fpu softvfp
 243              	MX_I2C2_Init:
 244              	.LFB47:
 314:Src/main.c    **** 
 245              		.loc 1 314 1 is_stmt 1 view -0
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 0
 248              		@ frame_needed = 0, uses_anonymous_args = 0
 249 0000 10B5     		push	{r4, lr}
 250              	.LCFI4:
 251              		.cfi_def_cfa_offset 8
 252              		.cfi_offset 4, -8
 253              		.cfi_offset 14, -4
 323:Src/main.c    ****   hi2c2.Init.Timing = 0x20303E5D;
 254              		.loc 1 323 3 view .LVU61
 323:Src/main.c    ****   hi2c2.Init.Timing = 0x20303E5D;
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 14


 255              		.loc 1 323 18 is_stmt 0 view .LVU62
 256 0002 0D4C     		ldr	r4, .L8
 257 0004 0D4B     		ldr	r3, .L8+4
 258 0006 2360     		str	r3, [r4]
 324:Src/main.c    ****   hi2c2.Init.OwnAddress1 = 0;
 259              		.loc 1 324 3 is_stmt 1 view .LVU63
 324:Src/main.c    ****   hi2c2.Init.OwnAddress1 = 0;
 260              		.loc 1 324 21 is_stmt 0 view .LVU64
 261 0008 0D4B     		ldr	r3, .L8+8
 262 000a 6360     		str	r3, [r4, #4]
 325:Src/main.c    ****   hi2c2.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 263              		.loc 1 325 3 is_stmt 1 view .LVU65
 325:Src/main.c    ****   hi2c2.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 264              		.loc 1 325 26 is_stmt 0 view .LVU66
 265 000c 0023     		movs	r3, #0
 266 000e A360     		str	r3, [r4, #8]
 326:Src/main.c    ****   hi2c2.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 267              		.loc 1 326 3 is_stmt 1 view .LVU67
 326:Src/main.c    ****   hi2c2.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 268              		.loc 1 326 29 is_stmt 0 view .LVU68
 269 0010 0122     		movs	r2, #1
 270 0012 E260     		str	r2, [r4, #12]
 327:Src/main.c    ****   hi2c2.Init.OwnAddress2 = 0;
 271              		.loc 1 327 3 is_stmt 1 view .LVU69
 327:Src/main.c    ****   hi2c2.Init.OwnAddress2 = 0;
 272              		.loc 1 327 30 is_stmt 0 view .LVU70
 273 0014 2361     		str	r3, [r4, #16]
 328:Src/main.c    ****   hi2c2.Init.OwnAddress2Masks = I2C_OA2_NOMASK;
 274              		.loc 1 328 3 is_stmt 1 view .LVU71
 328:Src/main.c    ****   hi2c2.Init.OwnAddress2Masks = I2C_OA2_NOMASK;
 275              		.loc 1 328 26 is_stmt 0 view .LVU72
 276 0016 6361     		str	r3, [r4, #20]
 329:Src/main.c    ****   hi2c2.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 277              		.loc 1 329 3 is_stmt 1 view .LVU73
 329:Src/main.c    ****   hi2c2.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 278              		.loc 1 329 31 is_stmt 0 view .LVU74
 279 0018 A361     		str	r3, [r4, #24]
 330:Src/main.c    ****   hi2c2.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 280              		.loc 1 330 3 is_stmt 1 view .LVU75
 330:Src/main.c    ****   hi2c2.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 281              		.loc 1 330 30 is_stmt 0 view .LVU76
 282 001a E361     		str	r3, [r4, #28]
 331:Src/main.c    ****   if (HAL_I2C_Init(&hi2c2) != HAL_OK)
 283              		.loc 1 331 3 is_stmt 1 view .LVU77
 331:Src/main.c    ****   if (HAL_I2C_Init(&hi2c2) != HAL_OK)
 284              		.loc 1 331 28 is_stmt 0 view .LVU78
 285 001c 2362     		str	r3, [r4, #32]
 332:Src/main.c    ****   {
 286              		.loc 1 332 3 is_stmt 1 view .LVU79
 332:Src/main.c    ****   {
 287              		.loc 1 332 7 is_stmt 0 view .LVU80
 288 001e 2000     		movs	r0, r4
 289 0020 FFF7FEFF 		bl	HAL_I2C_Init
 290              	.LVL8:
 338:Src/main.c    ****   {
 291              		.loc 1 338 3 is_stmt 1 view .LVU81
 338:Src/main.c    ****   {
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 15


 292              		.loc 1 338 7 is_stmt 0 view .LVU82
 293 0024 0021     		movs	r1, #0
 294 0026 2000     		movs	r0, r4
 295 0028 FFF7FEFF 		bl	HAL_I2CEx_ConfigAnalogFilter
 296              	.LVL9:
 344:Src/main.c    ****   {
 297              		.loc 1 344 3 is_stmt 1 view .LVU83
 344:Src/main.c    ****   {
 298              		.loc 1 344 7 is_stmt 0 view .LVU84
 299 002c 0021     		movs	r1, #0
 300 002e 2000     		movs	r0, r4
 301 0030 FFF7FEFF 		bl	HAL_I2CEx_ConfigDigitalFilter
 302              	.LVL10:
 352:Src/main.c    **** 
 303              		.loc 1 352 1 view .LVU85
 304              		@ sp needed
 305 0034 10BD     		pop	{r4, pc}
 306              	.L9:
 307 0036 C046     		.align	2
 308              	.L8:
 309 0038 00000000 		.word	hi2c2
 310 003c 00580040 		.word	1073764352
 311 0040 5D3E3020 		.word	540032605
 312              		.cfi_endproc
 313              	.LFE47:
 315              		.section	.text.MX_SPI2_Init,"ax",%progbits
 316              		.align	1
 317              		.syntax unified
 318              		.code	16
 319              		.thumb_func
 320              		.fpu softvfp
 322              	MX_SPI2_Init:
 323              	.LFB48:
 360:Src/main.c    **** 
 324              		.loc 1 360 1 is_stmt 1 view -0
 325              		.cfi_startproc
 326              		@ args = 0, pretend = 0, frame = 0
 327              		@ frame_needed = 0, uses_anonymous_args = 0
 328 0000 10B5     		push	{r4, lr}
 329              	.LCFI5:
 330              		.cfi_def_cfa_offset 8
 331              		.cfi_offset 4, -8
 332              		.cfi_offset 14, -4
 370:Src/main.c    ****   hspi2.Init.Mode = SPI_MODE_MASTER;
 333              		.loc 1 370 3 view .LVU87
 370:Src/main.c    ****   hspi2.Init.Mode = SPI_MODE_MASTER;
 334              		.loc 1 370 18 is_stmt 0 view .LVU88
 335 0002 0E48     		ldr	r0, .L11
 336 0004 0E4B     		ldr	r3, .L11+4
 337 0006 0360     		str	r3, [r0]
 371:Src/main.c    ****   hspi2.Init.Direction = SPI_DIRECTION_2LINES;
 338              		.loc 1 371 3 is_stmt 1 view .LVU89
 371:Src/main.c    ****   hspi2.Init.Direction = SPI_DIRECTION_2LINES;
 339              		.loc 1 371 19 is_stmt 0 view .LVU90
 340 0008 8223     		movs	r3, #130
 341 000a 5B00     		lsls	r3, r3, #1
 342 000c 4360     		str	r3, [r0, #4]
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 16


 372:Src/main.c    ****   hspi2.Init.DataSize = SPI_DATASIZE_4BIT;
 343              		.loc 1 372 3 is_stmt 1 view .LVU91
 372:Src/main.c    ****   hspi2.Init.DataSize = SPI_DATASIZE_4BIT;
 344              		.loc 1 372 24 is_stmt 0 view .LVU92
 345 000e 0023     		movs	r3, #0
 346 0010 8360     		str	r3, [r0, #8]
 373:Src/main.c    ****   hspi2.Init.CLKPolarity = SPI_POLARITY_LOW;
 347              		.loc 1 373 3 is_stmt 1 view .LVU93
 373:Src/main.c    ****   hspi2.Init.CLKPolarity = SPI_POLARITY_LOW;
 348              		.loc 1 373 23 is_stmt 0 view .LVU94
 349 0012 C022     		movs	r2, #192
 350 0014 9200     		lsls	r2, r2, #2
 351 0016 C260     		str	r2, [r0, #12]
 374:Src/main.c    ****   hspi2.Init.CLKPhase = SPI_PHASE_1EDGE;
 352              		.loc 1 374 3 is_stmt 1 view .LVU95
 374:Src/main.c    ****   hspi2.Init.CLKPhase = SPI_PHASE_1EDGE;
 353              		.loc 1 374 26 is_stmt 0 view .LVU96
 354 0018 0361     		str	r3, [r0, #16]
 375:Src/main.c    ****   hspi2.Init.NSS = SPI_NSS_SOFT;
 355              		.loc 1 375 3 is_stmt 1 view .LVU97
 375:Src/main.c    ****   hspi2.Init.NSS = SPI_NSS_SOFT;
 356              		.loc 1 375 23 is_stmt 0 view .LVU98
 357 001a 4361     		str	r3, [r0, #20]
 376:Src/main.c    ****   hspi2.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_4;
 358              		.loc 1 376 3 is_stmt 1 view .LVU99
 376:Src/main.c    ****   hspi2.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_4;
 359              		.loc 1 376 18 is_stmt 0 view .LVU100
 360 001c 013A     		subs	r2, r2, #1
 361 001e FF3A     		subs	r2, r2, #255
 362 0020 8261     		str	r2, [r0, #24]
 377:Src/main.c    ****   hspi2.Init.FirstBit = SPI_FIRSTBIT_MSB;
 363              		.loc 1 377 3 is_stmt 1 view .LVU101
 377:Src/main.c    ****   hspi2.Init.FirstBit = SPI_FIRSTBIT_MSB;
 364              		.loc 1 377 32 is_stmt 0 view .LVU102
 365 0022 F93A     		subs	r2, r2, #249
 366 0024 FF3A     		subs	r2, r2, #255
 367 0026 C261     		str	r2, [r0, #28]
 378:Src/main.c    ****   hspi2.Init.TIMode = SPI_TIMODE_DISABLE;
 368              		.loc 1 378 3 is_stmt 1 view .LVU103
 378:Src/main.c    ****   hspi2.Init.TIMode = SPI_TIMODE_DISABLE;
 369              		.loc 1 378 23 is_stmt 0 view .LVU104
 370 0028 0362     		str	r3, [r0, #32]
 379:Src/main.c    ****   hspi2.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 371              		.loc 1 379 3 is_stmt 1 view .LVU105
 379:Src/main.c    ****   hspi2.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 372              		.loc 1 379 21 is_stmt 0 view .LVU106
 373 002a 4362     		str	r3, [r0, #36]
 380:Src/main.c    ****   hspi2.Init.CRCPolynomial = 7;
 374              		.loc 1 380 3 is_stmt 1 view .LVU107
 380:Src/main.c    ****   hspi2.Init.CRCPolynomial = 7;
 375              		.loc 1 380 29 is_stmt 0 view .LVU108
 376 002c 8362     		str	r3, [r0, #40]
 381:Src/main.c    ****   hspi2.Init.CRCLength = SPI_CRC_LENGTH_DATASIZE;
 377              		.loc 1 381 3 is_stmt 1 view .LVU109
 381:Src/main.c    ****   hspi2.Init.CRCLength = SPI_CRC_LENGTH_DATASIZE;
 378              		.loc 1 381 28 is_stmt 0 view .LVU110
 379 002e 0721     		movs	r1, #7
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 17


 380 0030 C162     		str	r1, [r0, #44]
 382:Src/main.c    ****   hspi2.Init.NSSPMode = SPI_NSS_PULSE_ENABLE;
 381              		.loc 1 382 3 is_stmt 1 view .LVU111
 382:Src/main.c    ****   hspi2.Init.NSSPMode = SPI_NSS_PULSE_ENABLE;
 382              		.loc 1 382 24 is_stmt 0 view .LVU112
 383 0032 0363     		str	r3, [r0, #48]
 383:Src/main.c    ****   if (HAL_SPI_Init(&hspi2) != HAL_OK)
 384              		.loc 1 383 3 is_stmt 1 view .LVU113
 383:Src/main.c    ****   if (HAL_SPI_Init(&hspi2) != HAL_OK)
 385              		.loc 1 383 23 is_stmt 0 view .LVU114
 386 0034 4263     		str	r2, [r0, #52]
 384:Src/main.c    ****   {
 387              		.loc 1 384 3 is_stmt 1 view .LVU115
 384:Src/main.c    ****   {
 388              		.loc 1 384 7 is_stmt 0 view .LVU116
 389 0036 FFF7FEFF 		bl	HAL_SPI_Init
 390              	.LVL11:
 392:Src/main.c    **** 
 391              		.loc 1 392 1 view .LVU117
 392              		@ sp needed
 393 003a 10BD     		pop	{r4, pc}
 394              	.L12:
 395              		.align	2
 396              	.L11:
 397 003c 00000000 		.word	hspi2
 398 0040 00380040 		.word	1073756160
 399              		.cfi_endproc
 400              	.LFE48:
 402              		.section	.text.MX_TSC_Init,"ax",%progbits
 403              		.align	1
 404              		.syntax unified
 405              		.code	16
 406              		.thumb_func
 407              		.fpu softvfp
 409              	MX_TSC_Init:
 410              	.LFB49:
 400:Src/main.c    **** 
 411              		.loc 1 400 1 is_stmt 1 view -0
 412              		.cfi_startproc
 413              		@ args = 0, pretend = 0, frame = 0
 414              		@ frame_needed = 0, uses_anonymous_args = 0
 415 0000 10B5     		push	{r4, lr}
 416              	.LCFI6:
 417              		.cfi_def_cfa_offset 8
 418              		.cfi_offset 4, -8
 419              		.cfi_offset 14, -4
 411:Src/main.c    ****   htsc.Init.CTPulseHighLength = TSC_CTPH_2CYCLES;
 420              		.loc 1 411 3 view .LVU119
 411:Src/main.c    ****   htsc.Init.CTPulseHighLength = TSC_CTPH_2CYCLES;
 421              		.loc 1 411 17 is_stmt 0 view .LVU120
 422 0002 1148     		ldr	r0, .L14
 423 0004 114B     		ldr	r3, .L14+4
 424 0006 0360     		str	r3, [r0]
 412:Src/main.c    ****   htsc.Init.CTPulseLowLength = TSC_CTPL_2CYCLES;
 425              		.loc 1 412 3 is_stmt 1 view .LVU121
 412:Src/main.c    ****   htsc.Init.CTPulseLowLength = TSC_CTPL_2CYCLES;
 426              		.loc 1 412 31 is_stmt 0 view .LVU122
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 18


 427 0008 8023     		movs	r3, #128
 428 000a 5B05     		lsls	r3, r3, #21
 429 000c 4360     		str	r3, [r0, #4]
 413:Src/main.c    ****   htsc.Init.SpreadSpectrum = DISABLE;
 430              		.loc 1 413 3 is_stmt 1 view .LVU123
 413:Src/main.c    ****   htsc.Init.SpreadSpectrum = DISABLE;
 431              		.loc 1 413 30 is_stmt 0 view .LVU124
 432 000e 8023     		movs	r3, #128
 433 0010 5B04     		lsls	r3, r3, #17
 434 0012 8360     		str	r3, [r0, #8]
 414:Src/main.c    ****   htsc.Init.SpreadSpectrumDeviation = 1;
 435              		.loc 1 414 3 is_stmt 1 view .LVU125
 414:Src/main.c    ****   htsc.Init.SpreadSpectrumDeviation = 1;
 436              		.loc 1 414 28 is_stmt 0 view .LVU126
 437 0014 0023     		movs	r3, #0
 438 0016 0373     		strb	r3, [r0, #12]
 415:Src/main.c    ****   htsc.Init.SpreadSpectrumPrescaler = TSC_SS_PRESC_DIV1;
 439              		.loc 1 415 3 is_stmt 1 view .LVU127
 415:Src/main.c    ****   htsc.Init.SpreadSpectrumPrescaler = TSC_SS_PRESC_DIV1;
 440              		.loc 1 415 37 is_stmt 0 view .LVU128
 441 0018 0122     		movs	r2, #1
 442 001a 0261     		str	r2, [r0, #16]
 416:Src/main.c    ****   htsc.Init.PulseGeneratorPrescaler = TSC_PG_PRESC_DIV4;
 443              		.loc 1 416 3 is_stmt 1 view .LVU129
 416:Src/main.c    ****   htsc.Init.PulseGeneratorPrescaler = TSC_PG_PRESC_DIV4;
 444              		.loc 1 416 37 is_stmt 0 view .LVU130
 445 001c 4361     		str	r3, [r0, #20]
 417:Src/main.c    ****   htsc.Init.MaxCountValue = TSC_MCV_8191;
 446              		.loc 1 417 3 is_stmt 1 view .LVU131
 417:Src/main.c    ****   htsc.Init.MaxCountValue = TSC_MCV_8191;
 447              		.loc 1 417 37 is_stmt 0 view .LVU132
 448 001e 8022     		movs	r2, #128
 449 0020 9201     		lsls	r2, r2, #6
 450 0022 8261     		str	r2, [r0, #24]
 418:Src/main.c    ****   htsc.Init.IODefaultMode = TSC_IODEF_OUT_PP_LOW;
 451              		.loc 1 418 3 is_stmt 1 view .LVU133
 418:Src/main.c    ****   htsc.Init.IODefaultMode = TSC_IODEF_OUT_PP_LOW;
 452              		.loc 1 418 27 is_stmt 0 view .LVU134
 453 0024 A022     		movs	r2, #160
 454 0026 C261     		str	r2, [r0, #28]
 419:Src/main.c    ****   htsc.Init.SynchroPinPolarity = TSC_SYNC_POLARITY_FALLING;
 455              		.loc 1 419 3 is_stmt 1 view .LVU135
 419:Src/main.c    ****   htsc.Init.SynchroPinPolarity = TSC_SYNC_POLARITY_FALLING;
 456              		.loc 1 419 27 is_stmt 0 view .LVU136
 457 0028 0362     		str	r3, [r0, #32]
 420:Src/main.c    ****   htsc.Init.AcquisitionMode = TSC_ACQ_MODE_NORMAL;
 458              		.loc 1 420 3 is_stmt 1 view .LVU137
 420:Src/main.c    ****   htsc.Init.AcquisitionMode = TSC_ACQ_MODE_NORMAL;
 459              		.loc 1 420 32 is_stmt 0 view .LVU138
 460 002a 4362     		str	r3, [r0, #36]
 421:Src/main.c    ****   htsc.Init.MaxCountInterrupt = DISABLE;
 461              		.loc 1 421 3 is_stmt 1 view .LVU139
 421:Src/main.c    ****   htsc.Init.MaxCountInterrupt = DISABLE;
 462              		.loc 1 421 29 is_stmt 0 view .LVU140
 463 002c 8362     		str	r3, [r0, #40]
 422:Src/main.c    ****   htsc.Init.ChannelIOs = TSC_GROUP1_IO3|TSC_GROUP2_IO3|TSC_GROUP3_IO2;
 464              		.loc 1 422 3 is_stmt 1 view .LVU141
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 19


 422:Src/main.c    ****   htsc.Init.ChannelIOs = TSC_GROUP1_IO3|TSC_GROUP2_IO3|TSC_GROUP3_IO2;
 465              		.loc 1 422 31 is_stmt 0 view .LVU142
 466 002e 743A     		subs	r2, r2, #116
 467 0030 8354     		strb	r3, [r0, r2]
 423:Src/main.c    ****   htsc.Init.ShieldIOs = 0;
 468              		.loc 1 423 3 is_stmt 1 view .LVU143
 423:Src/main.c    ****   htsc.Init.ShieldIOs = 0;
 469              		.loc 1 423 24 is_stmt 0 view .LVU144
 470 0032 9122     		movs	r2, #145
 471 0034 9200     		lsls	r2, r2, #2
 472 0036 0263     		str	r2, [r0, #48]
 424:Src/main.c    ****   htsc.Init.SamplingIOs = TSC_GROUP1_IO4|TSC_GROUP2_IO4|TSC_GROUP3_IO3;
 473              		.loc 1 424 3 is_stmt 1 view .LVU145
 424:Src/main.c    ****   htsc.Init.SamplingIOs = TSC_GROUP1_IO4|TSC_GROUP2_IO4|TSC_GROUP3_IO3;
 474              		.loc 1 424 23 is_stmt 0 view .LVU146
 475 0038 4363     		str	r3, [r0, #52]
 425:Src/main.c    ****   if (HAL_TSC_Init(&htsc) != HAL_OK)
 476              		.loc 1 425 3 is_stmt 1 view .LVU147
 425:Src/main.c    ****   if (HAL_TSC_Init(&htsc) != HAL_OK)
 477              		.loc 1 425 25 is_stmt 0 view .LVU148
 478 003a 9123     		movs	r3, #145
 479 003c DB00     		lsls	r3, r3, #3
 480 003e 8363     		str	r3, [r0, #56]
 426:Src/main.c    ****   {
 481              		.loc 1 426 3 is_stmt 1 view .LVU149
 426:Src/main.c    ****   {
 482              		.loc 1 426 7 is_stmt 0 view .LVU150
 483 0040 FFF7FEFF 		bl	HAL_TSC_Init
 484              	.LVL12:
 434:Src/main.c    **** 
 485              		.loc 1 434 1 view .LVU151
 486              		@ sp needed
 487 0044 10BD     		pop	{r4, pc}
 488              	.L15:
 489 0046 C046     		.align	2
 490              	.L14:
 491 0048 00000000 		.word	htsc
 492 004c 00400240 		.word	1073889280
 493              		.cfi_endproc
 494              	.LFE49:
 496              		.section	.text.MX_ADC_Init,"ax",%progbits
 497              		.align	1
 498              		.syntax unified
 499              		.code	16
 500              		.thumb_func
 501              		.fpu softvfp
 503              	MX_ADC_Init:
 504              	.LFB45:
 224:Src/main.c    **** 
 505              		.loc 1 224 1 is_stmt 1 view -0
 506              		.cfi_startproc
 507              		@ args = 0, pretend = 0, frame = 16
 508              		@ frame_needed = 0, uses_anonymous_args = 0
 509 0000 30B5     		push	{r4, r5, lr}
 510              	.LCFI7:
 511              		.cfi_def_cfa_offset 12
 512              		.cfi_offset 4, -12
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 20


 513              		.cfi_offset 5, -8
 514              		.cfi_offset 14, -4
 515 0002 85B0     		sub	sp, sp, #20
 516              	.LCFI8:
 517              		.cfi_def_cfa_offset 32
 230:Src/main.c    **** 
 518              		.loc 1 230 3 view .LVU153
 230:Src/main.c    **** 
 519              		.loc 1 230 26 is_stmt 0 view .LVU154
 520 0004 0C22     		movs	r2, #12
 521 0006 0021     		movs	r1, #0
 522 0008 01A8     		add	r0, sp, #4
 523 000a FFF7FEFF 		bl	memset
 524              	.LVL13:
 237:Src/main.c    ****   hadc.Init.ClockPrescaler = ADC_CLOCK_ASYNC_DIV1;
 525              		.loc 1 237 3 is_stmt 1 view .LVU155
 237:Src/main.c    ****   hadc.Init.ClockPrescaler = ADC_CLOCK_ASYNC_DIV1;
 526              		.loc 1 237 17 is_stmt 0 view .LVU156
 527 000e 134C     		ldr	r4, .L17
 528 0010 134B     		ldr	r3, .L17+4
 529 0012 2360     		str	r3, [r4]
 238:Src/main.c    ****   hadc.Init.Resolution = ADC_RESOLUTION_12B;
 530              		.loc 1 238 3 is_stmt 1 view .LVU157
 238:Src/main.c    ****   hadc.Init.Resolution = ADC_RESOLUTION_12B;
 531              		.loc 1 238 28 is_stmt 0 view .LVU158
 532 0014 0023     		movs	r3, #0
 533 0016 6360     		str	r3, [r4, #4]
 239:Src/main.c    ****   hadc.Init.DataAlign = ADC_DATAALIGN_RIGHT;
 534              		.loc 1 239 3 is_stmt 1 view .LVU159
 239:Src/main.c    ****   hadc.Init.DataAlign = ADC_DATAALIGN_RIGHT;
 535              		.loc 1 239 24 is_stmt 0 view .LVU160
 536 0018 A360     		str	r3, [r4, #8]
 240:Src/main.c    ****   hadc.Init.ScanConvMode = ADC_SCAN_DIRECTION_FORWARD;
 537              		.loc 1 240 3 is_stmt 1 view .LVU161
 240:Src/main.c    ****   hadc.Init.ScanConvMode = ADC_SCAN_DIRECTION_FORWARD;
 538              		.loc 1 240 23 is_stmt 0 view .LVU162
 539 001a E360     		str	r3, [r4, #12]
 241:Src/main.c    ****   hadc.Init.EOCSelection = ADC_EOC_SINGLE_CONV;
 540              		.loc 1 241 3 is_stmt 1 view .LVU163
 241:Src/main.c    ****   hadc.Init.EOCSelection = ADC_EOC_SINGLE_CONV;
 541              		.loc 1 241 26 is_stmt 0 view .LVU164
 542 001c 0125     		movs	r5, #1
 543 001e 2561     		str	r5, [r4, #16]
 242:Src/main.c    ****   hadc.Init.LowPowerAutoWait = DISABLE;
 544              		.loc 1 242 3 is_stmt 1 view .LVU165
 242:Src/main.c    ****   hadc.Init.LowPowerAutoWait = DISABLE;
 545              		.loc 1 242 26 is_stmt 0 view .LVU166
 546 0020 0422     		movs	r2, #4
 547 0022 6261     		str	r2, [r4, #20]
 243:Src/main.c    ****   hadc.Init.LowPowerAutoPowerOff = DISABLE;
 548              		.loc 1 243 3 is_stmt 1 view .LVU167
 243:Src/main.c    ****   hadc.Init.LowPowerAutoPowerOff = DISABLE;
 549              		.loc 1 243 30 is_stmt 0 view .LVU168
 550 0024 2376     		strb	r3, [r4, #24]
 244:Src/main.c    ****   hadc.Init.ContinuousConvMode = ENABLE;
 551              		.loc 1 244 3 is_stmt 1 view .LVU169
 244:Src/main.c    ****   hadc.Init.ContinuousConvMode = ENABLE;
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 21


 552              		.loc 1 244 34 is_stmt 0 view .LVU170
 553 0026 6376     		strb	r3, [r4, #25]
 245:Src/main.c    ****   hadc.Init.DiscontinuousConvMode = DISABLE;
 554              		.loc 1 245 3 is_stmt 1 view .LVU171
 245:Src/main.c    ****   hadc.Init.DiscontinuousConvMode = DISABLE;
 555              		.loc 1 245 32 is_stmt 0 view .LVU172
 556 0028 A576     		strb	r5, [r4, #26]
 246:Src/main.c    ****   hadc.Init.ExternalTrigConv = ADC_SOFTWARE_START;
 557              		.loc 1 246 3 is_stmt 1 view .LVU173
 246:Src/main.c    ****   hadc.Init.ExternalTrigConv = ADC_SOFTWARE_START;
 558              		.loc 1 246 35 is_stmt 0 view .LVU174
 559 002a E376     		strb	r3, [r4, #27]
 247:Src/main.c    ****   hadc.Init.ExternalTrigConvEdge = ADC_EXTERNALTRIGCONVEDGE_NONE;
 560              		.loc 1 247 3 is_stmt 1 view .LVU175
 247:Src/main.c    ****   hadc.Init.ExternalTrigConvEdge = ADC_EXTERNALTRIGCONVEDGE_NONE;
 561              		.loc 1 247 30 is_stmt 0 view .LVU176
 562 002c C222     		movs	r2, #194
 563 002e FF32     		adds	r2, r2, #255
 564 0030 E261     		str	r2, [r4, #28]
 248:Src/main.c    ****   hadc.Init.DMAContinuousRequests = DISABLE;
 565              		.loc 1 248 3 is_stmt 1 view .LVU177
 248:Src/main.c    ****   hadc.Init.DMAContinuousRequests = DISABLE;
 566              		.loc 1 248 34 is_stmt 0 view .LVU178
 567 0032 2362     		str	r3, [r4, #32]
 249:Src/main.c    ****   hadc.Init.Overrun = ADC_OVR_DATA_PRESERVED;
 568              		.loc 1 249 3 is_stmt 1 view .LVU179
 249:Src/main.c    ****   hadc.Init.Overrun = ADC_OVR_DATA_PRESERVED;
 569              		.loc 1 249 35 is_stmt 0 view .LVU180
 570 0034 9E3A     		subs	r2, r2, #158
 571 0036 FF3A     		subs	r2, r2, #255
 572 0038 A354     		strb	r3, [r4, r2]
 250:Src/main.c    ****   if (HAL_ADC_Init(&hadc) != HAL_OK)
 573              		.loc 1 250 3 is_stmt 1 view .LVU181
 250:Src/main.c    ****   if (HAL_ADC_Init(&hadc) != HAL_OK)
 574              		.loc 1 250 21 is_stmt 0 view .LVU182
 575 003a A562     		str	r5, [r4, #40]
 251:Src/main.c    ****   {
 576              		.loc 1 251 3 is_stmt 1 view .LVU183
 251:Src/main.c    ****   {
 577              		.loc 1 251 7 is_stmt 0 view .LVU184
 578 003c 2000     		movs	r0, r4
 579 003e FFF7FEFF 		bl	HAL_ADC_Init
 580              	.LVL14:
 257:Src/main.c    ****   sConfig.Rank = ADC_RANK_CHANNEL_NUMBER;
 581              		.loc 1 257 3 is_stmt 1 view .LVU185
 257:Src/main.c    ****   sConfig.Rank = ADC_RANK_CHANNEL_NUMBER;
 582              		.loc 1 257 19 is_stmt 0 view .LVU186
 583 0042 0195     		str	r5, [sp, #4]
 258:Src/main.c    ****   sConfig.SamplingTime = ADC_SAMPLETIME_28CYCLES_5;
 584              		.loc 1 258 3 is_stmt 1 view .LVU187
 258:Src/main.c    ****   sConfig.SamplingTime = ADC_SAMPLETIME_28CYCLES_5;
 585              		.loc 1 258 16 is_stmt 0 view .LVU188
 586 0044 8023     		movs	r3, #128
 587 0046 5B01     		lsls	r3, r3, #5
 588 0048 0293     		str	r3, [sp, #8]
 259:Src/main.c    ****   if (HAL_ADC_ConfigChannel(&hadc, &sConfig) != HAL_OK)
 589              		.loc 1 259 3 is_stmt 1 view .LVU189
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 22


 259:Src/main.c    ****   if (HAL_ADC_ConfigChannel(&hadc, &sConfig) != HAL_OK)
 590              		.loc 1 259 24 is_stmt 0 view .LVU190
 591 004a 0323     		movs	r3, #3
 592 004c 0393     		str	r3, [sp, #12]
 260:Src/main.c    ****   {
 593              		.loc 1 260 3 is_stmt 1 view .LVU191
 260:Src/main.c    ****   {
 594              		.loc 1 260 7 is_stmt 0 view .LVU192
 595 004e 01A9     		add	r1, sp, #4
 596 0050 2000     		movs	r0, r4
 597 0052 FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 598              	.LVL15:
 268:Src/main.c    **** 
 599              		.loc 1 268 1 view .LVU193
 600 0056 05B0     		add	sp, sp, #20
 601              		@ sp needed
 602 0058 30BD     		pop	{r4, r5, pc}
 603              	.L18:
 604 005a C046     		.align	2
 605              	.L17:
 606 005c 00000000 		.word	hadc
 607 0060 00240140 		.word	1073816576
 608              		.cfi_endproc
 609              	.LFE45:
 611              		.section	.text.SystemClock_Config,"ax",%progbits
 612              		.align	1
 613              		.global	SystemClock_Config
 614              		.syntax unified
 615              		.code	16
 616              		.thumb_func
 617              		.fpu softvfp
 619              	SystemClock_Config:
 620              	.LFB44:
 175:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 621              		.loc 1 175 1 is_stmt 1 view -0
 622              		.cfi_startproc
 623              		@ args = 0, pretend = 0, frame = 96
 624              		@ frame_needed = 0, uses_anonymous_args = 0
 625 0000 30B5     		push	{r4, r5, lr}
 626              	.LCFI9:
 627              		.cfi_def_cfa_offset 12
 628              		.cfi_offset 4, -12
 629              		.cfi_offset 5, -8
 630              		.cfi_offset 14, -4
 631 0002 99B0     		sub	sp, sp, #100
 632              	.LCFI10:
 633              		.cfi_def_cfa_offset 112
 176:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 634              		.loc 1 176 3 view .LVU195
 176:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 635              		.loc 1 176 22 is_stmt 0 view .LVU196
 636 0004 1C22     		movs	r2, #28
 637 0006 0021     		movs	r1, #0
 638 0008 0CA8     		add	r0, sp, #48
 639 000a FFF7FEFF 		bl	memset
 640              	.LVL16:
 177:Src/main.c    ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 23


 641              		.loc 1 177 3 is_stmt 1 view .LVU197
 177:Src/main.c    ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 642              		.loc 1 177 22 is_stmt 0 view .LVU198
 643 000e 1024     		movs	r4, #16
 644 0010 1022     		movs	r2, #16
 645 0012 0021     		movs	r1, #0
 646 0014 07A8     		add	r0, sp, #28
 647 0016 FFF7FEFF 		bl	memset
 648              	.LVL17:
 178:Src/main.c    **** 
 649              		.loc 1 178 3 is_stmt 1 view .LVU199
 178:Src/main.c    **** 
 650              		.loc 1 178 28 is_stmt 0 view .LVU200
 651 001a 1C22     		movs	r2, #28
 652 001c 0021     		movs	r1, #0
 653 001e 6846     		mov	r0, sp
 654 0020 FFF7FEFF 		bl	memset
 655              	.LVL18:
 182:Src/main.c    ****                               |RCC_OSCILLATORTYPE_HSI48;
 656              		.loc 1 182 3 is_stmt 1 view .LVU201
 182:Src/main.c    ****                               |RCC_OSCILLATORTYPE_HSI48;
 657              		.loc 1 182 36 is_stmt 0 view .LVU202
 658 0024 3223     		movs	r3, #50
 659 0026 0B93     		str	r3, [sp, #44]
 184:Src/main.c    ****   RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
 660              		.loc 1 184 3 is_stmt 1 view .LVU203
 184:Src/main.c    ****   RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
 661              		.loc 1 184 30 is_stmt 0 view .LVU204
 662 0028 313B     		subs	r3, r3, #49
 663 002a 0E93     		str	r3, [sp, #56]
 185:Src/main.c    ****   RCC_OscInitStruct.HSI14State = RCC_HSI14_ON;
 664              		.loc 1 185 3 is_stmt 1 view .LVU205
 185:Src/main.c    ****   RCC_OscInitStruct.HSI14State = RCC_HSI14_ON;
 665              		.loc 1 185 32 is_stmt 0 view .LVU206
 666 002c 1393     		str	r3, [sp, #76]
 186:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 667              		.loc 1 186 3 is_stmt 1 view .LVU207
 186:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 668              		.loc 1 186 32 is_stmt 0 view .LVU208
 669 002e 1093     		str	r3, [sp, #64]
 187:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
 670              		.loc 1 187 3 is_stmt 1 view .LVU209
 187:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
 671              		.loc 1 187 41 is_stmt 0 view .LVU210
 672 0030 0F94     		str	r4, [sp, #60]
 188:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 673              		.loc 1 188 3 is_stmt 1 view .LVU211
 188:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 674              		.loc 1 188 43 is_stmt 0 view .LVU212
 675 0032 1194     		str	r4, [sp, #68]
 189:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 676              		.loc 1 189 3 is_stmt 1 view .LVU213
 189:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 677              		.loc 1 189 34 is_stmt 0 view .LVU214
 678 0034 0225     		movs	r5, #2
 679 0036 1495     		str	r5, [sp, #80]
 190:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL6;
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 24


 680              		.loc 1 190 3 is_stmt 1 view .LVU215
 190:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL6;
 681              		.loc 1 190 35 is_stmt 0 view .LVU216
 682 0038 8023     		movs	r3, #128
 683 003a 1B02     		lsls	r3, r3, #8
 684 003c 1593     		str	r3, [sp, #84]
 191:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 685              		.loc 1 191 3 is_stmt 1 view .LVU217
 191:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 686              		.loc 1 191 32 is_stmt 0 view .LVU218
 687 003e 8023     		movs	r3, #128
 688 0040 5B03     		lsls	r3, r3, #13
 689 0042 1693     		str	r3, [sp, #88]
 192:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 690              		.loc 1 192 3 is_stmt 1 view .LVU219
 192:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 691              		.loc 1 192 32 is_stmt 0 view .LVU220
 692 0044 0024     		movs	r4, #0
 693 0046 1794     		str	r4, [sp, #92]
 193:Src/main.c    ****   {
 694              		.loc 1 193 3 is_stmt 1 view .LVU221
 193:Src/main.c    ****   {
 695              		.loc 1 193 7 is_stmt 0 view .LVU222
 696 0048 0BA8     		add	r0, sp, #44
 697 004a FFF7FEFF 		bl	HAL_RCC_OscConfig
 698              	.LVL19:
 199:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1;
 699              		.loc 1 199 3 is_stmt 1 view .LVU223
 199:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1;
 700              		.loc 1 199 31 is_stmt 0 view .LVU224
 701 004e 0723     		movs	r3, #7
 702 0050 0793     		str	r3, [sp, #28]
 201:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 703              		.loc 1 201 3 is_stmt 1 view .LVU225
 201:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 704              		.loc 1 201 34 is_stmt 0 view .LVU226
 705 0052 0895     		str	r5, [sp, #32]
 202:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 706              		.loc 1 202 3 is_stmt 1 view .LVU227
 202:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 707              		.loc 1 202 35 is_stmt 0 view .LVU228
 708 0054 0994     		str	r4, [sp, #36]
 203:Src/main.c    **** 
 709              		.loc 1 203 3 is_stmt 1 view .LVU229
 203:Src/main.c    **** 
 710              		.loc 1 203 36 is_stmt 0 view .LVU230
 711 0056 0A94     		str	r4, [sp, #40]
 205:Src/main.c    ****   {
 712              		.loc 1 205 3 is_stmt 1 view .LVU231
 205:Src/main.c    ****   {
 713              		.loc 1 205 7 is_stmt 0 view .LVU232
 714 0058 0121     		movs	r1, #1
 715 005a 07A8     		add	r0, sp, #28
 716 005c FFF7FEFF 		bl	HAL_RCC_ClockConfig
 717              	.LVL20:
 209:Src/main.c    ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_HSI48;
 718              		.loc 1 209 3 is_stmt 1 view .LVU233
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 25


 209:Src/main.c    ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_HSI48;
 719              		.loc 1 209 38 is_stmt 0 view .LVU234
 720 0060 8023     		movs	r3, #128
 721 0062 9B02     		lsls	r3, r3, #10
 722 0064 0093     		str	r3, [sp]
 210:Src/main.c    **** 
 723              		.loc 1 210 3 is_stmt 1 view .LVU235
 210:Src/main.c    **** 
 724              		.loc 1 210 35 is_stmt 0 view .LVU236
 725 0066 0694     		str	r4, [sp, #24]
 212:Src/main.c    ****   {
 726              		.loc 1 212 3 is_stmt 1 view .LVU237
 212:Src/main.c    ****   {
 727              		.loc 1 212 7 is_stmt 0 view .LVU238
 728 0068 6846     		mov	r0, sp
 729 006a FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 730              	.LVL21:
 216:Src/main.c    **** 
 731              		.loc 1 216 1 view .LVU239
 732 006e 19B0     		add	sp, sp, #100
 733              		@ sp needed
 734 0070 30BD     		pop	{r4, r5, pc}
 735              		.cfi_endproc
 736              	.LFE44:
 738              		.global	__aeabi_uidiv
 739              		.section	.text.main,"ax",%progbits
 740              		.align	1
 741              		.global	main
 742              		.syntax unified
 743              		.code	16
 744              		.thumb_func
 745              		.fpu softvfp
 747              	main:
 748              	.LFB43:
  84:Src/main.c    ****   /* USER CODE BEGIN 1 */
 749              		.loc 1 84 1 is_stmt 1 view -0
 750              		.cfi_startproc
 751              		@ args = 0, pretend = 0, frame = 408
 752              		@ frame_needed = 0, uses_anonymous_args = 0
 753 0000 30B5     		push	{r4, r5, lr}
 754              	.LCFI11:
 755              		.cfi_def_cfa_offset 12
 756              		.cfi_offset 4, -12
 757              		.cfi_offset 5, -8
 758              		.cfi_offset 14, -4
 759 0002 E7B0     		sub	sp, sp, #412
 760              	.LCFI12:
 761              		.cfi_def_cfa_offset 424
  93:Src/main.c    **** 
 762              		.loc 1 93 3 view .LVU241
 763 0004 FFF7FEFF 		bl	HAL_Init
 764              	.LVL22:
 100:Src/main.c    **** 
 765              		.loc 1 100 3 view .LVU242
 766 0008 FFF7FEFF 		bl	SystemClock_Config
 767              	.LVL23:
 107:Src/main.c    ****   MX_DAC_Init();
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 26


 768              		.loc 1 107 3 view .LVU243
 769 000c FFF7FEFF 		bl	MX_GPIO_Init
 770              	.LVL24:
 108:Src/main.c    ****   MX_I2C2_Init();
 771              		.loc 1 108 3 view .LVU244
 772 0010 FFF7FEFF 		bl	MX_DAC_Init
 773              	.LVL25:
 109:Src/main.c    ****   MX_SPI2_Init();
 774              		.loc 1 109 3 view .LVU245
 775 0014 FFF7FEFF 		bl	MX_I2C2_Init
 776              	.LVL26:
 110:Src/main.c    ****   MX_TSC_Init();
 777              		.loc 1 110 3 view .LVU246
 778 0018 FFF7FEFF 		bl	MX_SPI2_Init
 779              	.LVL27:
 111:Src/main.c    ****   MX_ADC_Init();
 780              		.loc 1 111 3 view .LVU247
 781 001c FFF7FEFF 		bl	MX_TSC_Init
 782              	.LVL28:
 112:Src/main.c    ****   MX_USB_DEVICE_Init();
 783              		.loc 1 112 3 view .LVU248
 784 0020 FFF7FEFF 		bl	MX_ADC_Init
 785              	.LVL29:
 113:Src/main.c    ****   /* USER CODE BEGIN 2 */
 786              		.loc 1 113 3 view .LVU249
 787 0024 FFF7FEFF 		bl	MX_USB_DEVICE_Init
 788              	.LVL30:
 115:Src/main.c    ****   HAL_ADC_Start_IT (&hadc);
 789              		.loc 1 115 3 view .LVU250
 790 0028 0021     		movs	r1, #0
 791 002a 2F48     		ldr	r0, .L33
 792 002c FFF7FEFF 		bl	HAL_DAC_Start
 793              	.LVL31:
 116:Src/main.c    ****   
 794              		.loc 1 116 3 view .LVU251
 795 0030 2E48     		ldr	r0, .L33+4
 796 0032 FFF7FEFF 		bl	HAL_ADC_Start_IT
 797              	.LVL32:
 118:Src/main.c    ****   uint32_t adc_sum = 0;
 798              		.loc 1 118 3 view .LVU252
 119:Src/main.c    ****   uint32_t adc_hist[100] = {0};
 799              		.loc 1 119 3 view .LVU253
 120:Src/main.c    **** 
 800              		.loc 1 120 3 view .LVU254
 120:Src/main.c    **** 
 801              		.loc 1 120 12 is_stmt 0 view .LVU255
 802 0036 C822     		movs	r2, #200
 803 0038 5200     		lsls	r2, r2, #1
 804 003a 0021     		movs	r1, #0
 805 003c 02A8     		add	r0, sp, #8
 806 003e FFF7FEFF 		bl	memset
 807              	.LVL33:
 122:Src/main.c    ****   uint16_t txcounter = 0;
 808              		.loc 1 122 3 is_stmt 1 view .LVU256
 123:Src/main.c    ****   
 809              		.loc 1 123 3 view .LVU257
 123:Src/main.c    ****   
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 27


 810              		.loc 1 123 12 is_stmt 0 view .LVU258
 811 0042 0025     		movs	r5, #0
 118:Src/main.c    ****   uint32_t adc_sum = 0;
 812              		.loc 1 118 11 view .LVU259
 813 0044 0024     		movs	r4, #0
 814 0046 22E0     		b	.L21
 815              	.LVL34:
 816              	.L32:
 140:Src/main.c    ****     }
 817              		.loc 1 140 17 view .LVU260
 818 0048 0024     		movs	r4, #0
 819              	.LVL35:
 140:Src/main.c    ****     }
 820              		.loc 1 140 17 view .LVU261
 821 004a 29E0     		b	.L22
 822              	.LVL36:
 823              	.L24:
 824              	.LBB5:
 144:Src/main.c    ****     }
 825              		.loc 1 144 7 is_stmt 1 discriminator 3 view .LVU262
 144:Src/main.c    ****     }
 826              		.loc 1 144 26 is_stmt 0 discriminator 3 view .LVU263
 827 004c 9800     		lsls	r0, r3, #2
 828 004e 02A9     		add	r1, sp, #8
 829 0050 4158     		ldr	r1, [r0, r1]
 144:Src/main.c    ****     }
 830              		.loc 1 144 15 discriminator 3 view .LVU264
 831 0052 5218     		adds	r2, r2, r1
 832              	.LVL37:
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 833              		.loc 1 143 28 is_stmt 1 discriminator 3 view .LVU265
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 834              		.loc 1 143 29 is_stmt 0 discriminator 3 view .LVU266
 835 0054 0133     		adds	r3, r3, #1
 836              	.LVL38:
 837              	.L23:
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 838              		.loc 1 143 21 is_stmt 1 discriminator 1 view .LVU267
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 839              		.loc 1 143 5 is_stmt 0 discriminator 1 view .LVU268
 840 0056 632B     		cmp	r3, #99
 841 0058 F8DD     		ble	.L24
 842              	.LBE5:
 146:Src/main.c    ****     usb_buf[0] = adc_value;
 843              		.loc 1 146 5 is_stmt 1 view .LVU269
 146:Src/main.c    ****     usb_buf[0] = adc_value;
 844              		.loc 1 146 25 is_stmt 0 view .LVU270
 845 005a 1001     		lsls	r0, r2, #4
 846 005c 801A     		subs	r0, r0, r2
 847 005e 4000     		lsls	r0, r0, #1
 146:Src/main.c    ****     usb_buf[0] = adc_value;
 848              		.loc 1 146 37 view .LVU271
 849 0060 C821     		movs	r1, #200
 850 0062 C902     		lsls	r1, r1, #11
 851 0064 FFF7FEFF 		bl	__aeabi_uidiv
 852              	.LVL39:
 146:Src/main.c    ****     usb_buf[0] = adc_value;
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 28


 853              		.loc 1 146 15 view .LVU272
 854 0068 214B     		ldr	r3, .L33+8
 855 006a 1860     		str	r0, [r3]
 147:Src/main.c    **** 
 856              		.loc 1 147 5 is_stmt 1 view .LVU273
 147:Src/main.c    **** 
 857              		.loc 1 147 16 is_stmt 0 view .LVU274
 858 006c 01AB     		add	r3, sp, #4
 859 006e 1870     		strb	r0, [r3]
 149:Src/main.c    ****       DAC_Value = usb_getValue() * 100;
 860              		.loc 1 149 5 is_stmt 1 view .LVU275
 149:Src/main.c    ****       DAC_Value = usb_getValue() * 100;
 861              		.loc 1 149 9 is_stmt 0 view .LVU276
 862 0070 FFF7FEFF 		bl	usb_ready
 863              	.LVL40:
 149:Src/main.c    ****       DAC_Value = usb_getValue() * 100;
 864              		.loc 1 149 8 view .LVU277
 865 0074 0028     		cmp	r0, #0
 866 0076 16D1     		bne	.L29
 867              	.L25:
 153:Src/main.c    ****     if (txcounter==0){
 868              		.loc 1 153 5 is_stmt 1 view .LVU278
 153:Src/main.c    ****     if (txcounter==0){
 869              		.loc 1 153 14 is_stmt 0 view .LVU279
 870 0078 0135     		adds	r5, r5, #1
 871              	.LVL41:
 153:Src/main.c    ****     if (txcounter==0){
 872              		.loc 1 153 14 view .LVU280
 873 007a ADB2     		uxth	r5, r5
 874              	.LVL42:
 154:Src/main.c    ****       CDC_Transmit_FS(usb_buf,  1);
 875              		.loc 1 154 5 is_stmt 1 view .LVU281
 154:Src/main.c    ****       CDC_Transmit_FS(usb_buf,  1);
 876              		.loc 1 154 8 is_stmt 0 view .LVU282
 877 007c 002D     		cmp	r5, #0
 878 007e 23D0     		beq	.L30
 879              	.L26:
 159:Src/main.c    ****       HAL_GPIO_TogglePin(LD6_GPIO_Port,LD6_Pin);
 880              		.loc 1 159 5 is_stmt 1 view .LVU283
 159:Src/main.c    ****       HAL_GPIO_TogglePin(LD6_GPIO_Port,LD6_Pin);
 881              		.loc 1 159 9 is_stmt 0 view .LVU284
 882 0080 9020     		movs	r0, #144
 883 0082 0121     		movs	r1, #1
 884 0084 C005     		lsls	r0, r0, #23
 885 0086 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 886              	.LVL43:
 159:Src/main.c    ****       HAL_GPIO_TogglePin(LD6_GPIO_Port,LD6_Pin);
 887              		.loc 1 159 8 view .LVU285
 888 008a 0028     		cmp	r0, #0
 889 008c 24D1     		bne	.L31
 890              	.LVL44:
 891              	.L21:
 129:Src/main.c    ****   {
 892              		.loc 1 129 3 is_stmt 1 view .LVU286
 137:Src/main.c    ****     adc_index++;
 893              		.loc 1 137 5 view .LVU287
 137:Src/main.c    ****     adc_index++;
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 29


 894              		.loc 1 137 24 is_stmt 0 view .LVU288
 895 008e A200     		lsls	r2, r4, #2
 896 0090 184B     		ldr	r3, .L33+12
 897 0092 1988     		ldrh	r1, [r3]
 898 0094 02AB     		add	r3, sp, #8
 899 0096 D150     		str	r1, [r2, r3]
 138:Src/main.c    ****     if (adc_index == 100){
 900              		.loc 1 138 5 is_stmt 1 view .LVU289
 138:Src/main.c    ****     if (adc_index == 100){
 901              		.loc 1 138 14 is_stmt 0 view .LVU290
 902 0098 0134     		adds	r4, r4, #1
 903              	.LVL45:
 138:Src/main.c    ****     if (adc_index == 100){
 904              		.loc 1 138 14 view .LVU291
 905 009a E4B2     		uxtb	r4, r4
 906              	.LVL46:
 139:Src/main.c    ****       adc_index =0;
 907              		.loc 1 139 5 is_stmt 1 view .LVU292
 139:Src/main.c    ****       adc_index =0;
 908              		.loc 1 139 8 is_stmt 0 view .LVU293
 909 009c 642C     		cmp	r4, #100
 910 009e D3D0     		beq	.L32
 911              	.LVL47:
 912              	.L22:
 142:Src/main.c    ****     for (int i = 0; i<100; i++){
 913              		.loc 1 142 5 is_stmt 1 view .LVU294
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 914              		.loc 1 143 5 view .LVU295
 915              	.LBB6:
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 916              		.loc 1 143 10 view .LVU296
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 917              		.loc 1 143 14 is_stmt 0 view .LVU297
 918 00a0 0023     		movs	r3, #0
 919              	.LBE6:
 142:Src/main.c    ****     for (int i = 0; i<100; i++){
 920              		.loc 1 142 13 view .LVU298
 921 00a2 0022     		movs	r2, #0
 922              	.LBB7:
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 923              		.loc 1 143 5 view .LVU299
 924 00a4 D7E7     		b	.L23
 925              	.LVL48:
 926              	.L29:
 143:Src/main.c    ****       adc_sum += adc_hist[i];
 927              		.loc 1 143 5 view .LVU300
 928              	.LBE7:
 150:Src/main.c    ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1,DAC_ALIGN_12B_R, DAC_Value*4096/3000);
 929              		.loc 1 150 7 is_stmt 1 view .LVU301
 150:Src/main.c    ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1,DAC_ALIGN_12B_R, DAC_Value*4096/3000);
 930              		.loc 1 150 19 is_stmt 0 view .LVU302
 931 00a6 FFF7FEFF 		bl	usb_getValue
 932              	.LVL49:
 150:Src/main.c    ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1,DAC_ALIGN_12B_R, DAC_Value*4096/3000);
 933              		.loc 1 150 34 view .LVU303
 934 00aa 6423     		movs	r3, #100
 935 00ac 5843     		muls	r0, r3
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 30


 150:Src/main.c    ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1,DAC_ALIGN_12B_R, DAC_Value*4096/3000);
 936              		.loc 1 150 17 view .LVU304
 937 00ae 124B     		ldr	r3, .L33+16
 938 00b0 1860     		str	r0, [r3]
 151:Src/main.c    ****     }
 939              		.loc 1 151 7 is_stmt 1 view .LVU305
 151:Src/main.c    ****     }
 940              		.loc 1 151 71 is_stmt 0 view .LVU306
 941 00b2 0003     		lsls	r0, r0, #12
 151:Src/main.c    ****     }
 942              		.loc 1 151 7 view .LVU307
 943 00b4 1149     		ldr	r1, .L33+20
 944 00b6 FFF7FEFF 		bl	__aeabi_uidiv
 945              	.LVL50:
 946 00ba 0300     		movs	r3, r0
 947 00bc 0022     		movs	r2, #0
 948 00be 0021     		movs	r1, #0
 949 00c0 0948     		ldr	r0, .L33
 950 00c2 FFF7FEFF 		bl	HAL_DAC_SetValue
 951              	.LVL51:
 952 00c6 D7E7     		b	.L25
 953              	.L30:
 155:Src/main.c    ****       HAL_Delay(100);
 954              		.loc 1 155 7 is_stmt 1 view .LVU308
 955 00c8 0121     		movs	r1, #1
 956 00ca 01A8     		add	r0, sp, #4
 957 00cc FFF7FEFF 		bl	CDC_Transmit_FS
 958              	.LVL52:
 156:Src/main.c    ****     }
 959              		.loc 1 156 7 view .LVU309
 960 00d0 6420     		movs	r0, #100
 961 00d2 FFF7FEFF 		bl	HAL_Delay
 962              	.LVL53:
 963 00d6 D3E7     		b	.L26
 964              	.L31:
 160:Src/main.c    ****       HAL_Delay(200);
 965              		.loc 1 160 7 view .LVU310
 966 00d8 8021     		movs	r1, #128
 967 00da 0948     		ldr	r0, .L33+24
 968 00dc FFF7FEFF 		bl	HAL_GPIO_TogglePin
 969              	.LVL54:
 161:Src/main.c    ****     }
 970              		.loc 1 161 7 view .LVU311
 971 00e0 C820     		movs	r0, #200
 972 00e2 FFF7FEFF 		bl	HAL_Delay
 973              	.LVL55:
 974 00e6 D2E7     		b	.L21
 975              	.L34:
 976              		.align	2
 977              	.L33:
 978 00e8 00000000 		.word	hdac
 979 00ec 00000000 		.word	hadc
 980 00f0 00000000 		.word	.LANCHOR1
 981 00f4 00000000 		.word	.LANCHOR0
 982 00f8 00000000 		.word	.LANCHOR2
 983 00fc B80B0000 		.word	3000
 984 0100 00080048 		.word	1207961600
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 31


 985              		.cfi_endproc
 986              	.LFE43:
 988              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
 989              		.align	1
 990              		.global	HAL_ADC_ConvCpltCallback
 991              		.syntax unified
 992              		.code	16
 993              		.thumb_func
 994              		.fpu softvfp
 996              	HAL_ADC_ConvCpltCallback:
 997              	.LVL56:
 998              	.LFB51:
 476:Src/main.c    **** 
 477:Src/main.c    **** /* USER CODE BEGIN 4 */
 478:Src/main.c    **** void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc){
 999              		.loc 1 478 55 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003              		.loc 1 478 55 is_stmt 0 view .LVU313
 1004 0000 10B5     		push	{r4, lr}
 1005              	.LCFI13:
 1006              		.cfi_def_cfa_offset 8
 1007              		.cfi_offset 4, -8
 1008              		.cfi_offset 14, -4
 479:Src/main.c    ****     current_adc_value = HAL_ADC_GetValue(hadc);
 1009              		.loc 1 479 5 is_stmt 1 view .LVU314
 1010              		.loc 1 479 25 is_stmt 0 view .LVU315
 1011 0002 FFF7FEFF 		bl	HAL_ADC_GetValue
 1012              	.LVL57:
 1013              		.loc 1 479 23 view .LVU316
 1014 0006 014B     		ldr	r3, .L36
 1015 0008 1880     		strh	r0, [r3]
 480:Src/main.c    **** }
 1016              		.loc 1 480 1 view .LVU317
 1017              		@ sp needed
 1018 000a 10BD     		pop	{r4, pc}
 1019              	.L37:
 1020              		.align	2
 1021              	.L36:
 1022 000c 00000000 		.word	.LANCHOR0
 1023              		.cfi_endproc
 1024              	.LFE51:
 1026              		.section	.text.Error_Handler,"ax",%progbits
 1027              		.align	1
 1028              		.global	Error_Handler
 1029              		.syntax unified
 1030              		.code	16
 1031              		.thumb_func
 1032              		.fpu softvfp
 1034              	Error_Handler:
 1035              	.LFB52:
 481:Src/main.c    **** /* USER CODE END 4 */
 482:Src/main.c    **** 
 483:Src/main.c    **** /**
 484:Src/main.c    ****   * @brief  This function is executed in case of error occurrence.
 485:Src/main.c    ****   * @retval None
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 32


 486:Src/main.c    ****   */
 487:Src/main.c    **** void Error_Handler(void)
 488:Src/main.c    **** {
 1036              		.loc 1 488 1 is_stmt 1 view -0
 1037              		.cfi_startproc
 1038              		@ args = 0, pretend = 0, frame = 0
 1039              		@ frame_needed = 0, uses_anonymous_args = 0
 1040              		@ link register save eliminated.
 489:Src/main.c    ****   /* USER CODE BEGIN Error_Handler_Debug */
 490:Src/main.c    ****   /* User can add his own implementation to report the HAL error return state */
 491:Src/main.c    **** 
 492:Src/main.c    ****   /* USER CODE END Error_Handler_Debug */
 493:Src/main.c    **** }
 1041              		.loc 1 493 1 view .LVU319
 1042              		@ sp needed
 1043 0000 7047     		bx	lr
 1044              		.cfi_endproc
 1045              	.LFE52:
 1047              		.global	current_adc_value
 1048              		.global	DAC_Value
 1049              		.global	adc_value
 1050              		.comm	htsc,68,4
 1051              		.comm	hspi2,100,4
 1052              		.comm	hi2c2,76,4
 1053              		.comm	hdac,20,4
 1054              		.comm	hadc,64,4
 1055              		.section	.bss.adc_value,"aw",%nobits
 1056              		.align	2
 1057              		.set	.LANCHOR1,. + 0
 1060              	adc_value:
 1061 0000 00000000 		.space	4
 1062              		.section	.bss.current_adc_value,"aw",%nobits
 1063              		.align	1
 1064              		.set	.LANCHOR0,. + 0
 1067              	current_adc_value:
 1068 0000 0000     		.space	2
 1069              		.section	.data.DAC_Value,"aw"
 1070              		.align	2
 1071              		.set	.LANCHOR2,. + 0
 1074              	DAC_Value:
 1075 0000 E8030000 		.word	1000
 1076              		.text
 1077              	.Letext0:
 1078              		.file 2 "d:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\machine\\_default_ty
 1079              		.file 3 "d:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1080              		.file 4 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/system_stm32f0xx.h"
 1081              		.file 5 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f072xb.h"
 1082              		.file 6 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f0xx.h"
 1083              		.file 7 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_def.h"
 1084              		.file 8 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_rcc.h"
 1085              		.file 9 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_rcc_ex.h"
 1086              		.file 10 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_gpio.h"
 1087              		.file 11 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_dma.h"
 1088              		.file 12 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_adc.h"
 1089              		.file 13 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_dac.h"
 1090              		.file 14 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_i2c.h"
 1091              		.file 15 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_spi.h"
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 33


 1092              		.file 16 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_tsc.h"
 1093              		.file 17 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal.h"
 1094              		.file 18 "d:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1095              		.file 19 "d:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1096              		.file 20 "d:\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 1097              		.file 21 "d:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1098              		.file 22 "d:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\stdlib.h"
 1099              		.file 23 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 1100              		.file 24 "Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc/usbd_cdc.h"
 1101              		.file 25 "Inc/usbd_cdc_if.h"
 1102              		.file 26 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_i2c_ex.h"
 1103              		.file 27 "Inc/usb_device.h"
 1104              		.file 28 "<built-in>"
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 34


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:16     .text.MX_GPIO_Init:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:23     .text.MX_GPIO_Init:00000000 MX_GPIO_Init
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:165    .text.MX_GPIO_Init:00000090 $d
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:173    .text.MX_DAC_Init:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:179    .text.MX_DAC_Init:00000000 MX_DAC_Init
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:231    .text.MX_DAC_Init:00000030 $d
                            *COM*:00000014 hdac
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:237    .text.MX_I2C2_Init:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:243    .text.MX_I2C2_Init:00000000 MX_I2C2_Init
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:309    .text.MX_I2C2_Init:00000038 $d
                            *COM*:0000004c hi2c2
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:316    .text.MX_SPI2_Init:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:322    .text.MX_SPI2_Init:00000000 MX_SPI2_Init
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:397    .text.MX_SPI2_Init:0000003c $d
                            *COM*:00000064 hspi2
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:403    .text.MX_TSC_Init:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:409    .text.MX_TSC_Init:00000000 MX_TSC_Init
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:491    .text.MX_TSC_Init:00000048 $d
                            *COM*:00000044 htsc
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:497    .text.MX_ADC_Init:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:503    .text.MX_ADC_Init:00000000 MX_ADC_Init
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:606    .text.MX_ADC_Init:0000005c $d
                            *COM*:00000040 hadc
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:612    .text.SystemClock_Config:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:619    .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:740    .text.main:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:747    .text.main:00000000 main
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:978    .text.main:000000e8 $d
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:989    .text.HAL_ADC_ConvCpltCallback:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:996    .text.HAL_ADC_ConvCpltCallback:00000000 HAL_ADC_ConvCpltCallback
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1022   .text.HAL_ADC_ConvCpltCallback:0000000c $d
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1027   .text.Error_Handler:00000000 $t
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1034   .text.Error_Handler:00000000 Error_Handler
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1067   .bss.current_adc_value:00000000 current_adc_value
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1074   .data.DAC_Value:00000000 DAC_Value
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1060   .bss.adc_value:00000000 adc_value
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1056   .bss.adc_value:00000000 $d
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1063   .bss.current_adc_value:00000000 $d
C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s:1070   .data.DAC_Value:00000000 $d

UNDEFINED SYMBOLS
memset
HAL_GPIO_WritePin
HAL_GPIO_Init
HAL_DAC_Init
HAL_DAC_ConfigChannel
HAL_I2C_Init
HAL_I2CEx_ConfigAnalogFilter
HAL_I2CEx_ConfigDigitalFilter
HAL_SPI_Init
HAL_TSC_Init
HAL_ADC_Init
HAL_ADC_ConfigChannel
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
ARM GAS  C:\Users\joaov\AppData\Local\Temp\ccrtLZqj.s 			page 35


HAL_RCCEx_PeriphCLKConfig
__aeabi_uidiv
HAL_Init
MX_USB_DEVICE_Init
HAL_DAC_Start
HAL_ADC_Start_IT
usb_ready
HAL_GPIO_ReadPin
usb_getValue
HAL_DAC_SetValue
CDC_Transmit_FS
HAL_Delay
HAL_GPIO_TogglePin
HAL_ADC_GetValue
